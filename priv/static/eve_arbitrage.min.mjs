var m=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},ce=class{static fromArray(t,r){let n=r||new ct;for(let i=t.length-1;i>=0;--i)n=new Fe(t[i],n);return n}[Symbol.iterator](){return new to(this)}toArray(){return[...this]}atLeastLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return r!==void 0}hasLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return t===-1&&r instanceof ct}countLength(){let t=this,r=0;for(;t;)t=t.tail,r++;return r-1}};function w(e,t){return new Fe(e,t)}function l(e,t){return ce.fromArray(e,t)}var to=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof ct)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},ct=class extends ce{},Fe=class extends ce{constructor(t,r){super(),this.head=t,this.tail=r}},Kt=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,r,n){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=r??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=n??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return Kn(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let r=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<r;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let n=this.bitSize%8;if(n){let i=8-n;if(this.rawBuffer[r]>>i!==t.rawBuffer[r]>>i)return!1}}else{for(let i=0;i<r;i++){let s=Kn(this.rawBuffer,this.bitOffset,i),o=Kn(t.rawBuffer,t.bitOffset,i);if(s!==o)return!1}let n=this.bitSize%8;if(n){let i=Kn(this.rawBuffer,this.bitOffset,r),s=Kn(t.rawBuffer,t.bitOffset,r),o=8-n;if(i>>o!==s>>o)return!1}}return!0}get buffer(){if(Su("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Su("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function Kn(e,t,r){if(t===0)return e[r]??0;{let n=e[r]<<t&255,i=e[r+1]>>8-t;return n|i}}var Yn=class{constructor(t){this.value=t}},ju={};function Su(e,t){ju[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),ju[e]=!0)}var Cr=class e extends m{static isResult(t){return t instanceof e}},k=class extends Cr{constructor(t){super(),this[0]=t}isOk(){return!0}},O=class extends Cr{constructor(t){super(),this[0]=t}isOk(){return!1}};function J(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!Ou(n)||!Ou(i)||!Cf(n,i)||Of(n,i)||Lf(n,i)||Ef(n,i)||Af(n,i)||zf(n,i)||Tf(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[a,u]=Sf(n);for(let c of a(n))r.push(u(n,c),u(i,c))}return!0}function Sf(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Of(e,t){return e instanceof Date&&(e>t||e<t)}function Lf(e,t){return!(e instanceof Kt)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Ef(e,t){return Array.isArray(e)&&e.length!==t.length}function Af(e,t){return e instanceof Map&&e.size!==t.size}function zf(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function Tf(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ou(e){return typeof e=="object"&&e!==null}function Cf(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function Mt(e,t){return t===0?0:e%t}function Bt(e,t){return Math.trunc(et(e,t))}function et(e,t){return t===0?0:e/t}function z(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.function=n,o.fn=n;for(let a in s)o[a]=s[a];return o}var j=class extends m{constructor(t){super(),this[0]=t}},C=class extends m{};function ro(e){return J(e,new C)}function Bi(e,t){if(e instanceof j){let r=e[0];return new k(r)}else return new O(t)}function qt(e){if(e.isOk()){let t=e[0];return new j(t)}else return new C}function Nt(e,t){return e instanceof j?e[0]:t}function Mr(e,t){return e instanceof j?e[0]:t()}function qi(e,t){if(e instanceof j){let r=e[0];return new j(t(r))}else return new C}var ie=class extends m{},te=class extends m{},le=class extends m{};function Br(e,t){return e===t?new te:e<t?new ie:new le}function Mf(e){return-1*e}function Xn(e){return e>=0?no(e):0-no(Mf(e))}function qr(e,t){if(t<=0){let n=io(10,-t);return Xn(et(e,n))*n}else{let n=io(10,t);return et(Xn(e*n),n)}}function Ir(e,t){return e===t?new te:e<t?new ie:new le}var ae=class extends m{},wt=class extends m{};function qf(e,t){for(;;){let r=e,n=t;if(r.atLeastLength(1))e=r.tail,t=n+1;else return n}}function rt(e){return qf(e,0)}function Pr(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=w(i,n)}}}function Y(e){return Pr(e,l([]))}function Dr(e){return J(e,l([]))}function Zn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return!1;if(r.atLeastLength(1)&&J(r.head,n)){let i=r.head;return!0}else e=r.tail,t=n}}function Nf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return Y(s);{let o=n.head,a=n.tail,u;i(o)?u=w(o,s):u=s;let f=u;e=a,t=i,r=f}}}function Ur(e,t){return Nf(e,t,l([]))}function If(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return Y(s);{let o=n.head;e=n.tail,t=i,r=w(i(o),s)}}}function W(e,t){return If(e,t,l([]))}function Pf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return new k(Y(s));{let o=n.head,a=n.tail,u=i(o);if(u.isOk()){let c=u[0];e=a,t=i,r=w(c,s)}else{let c=u[0];return new O(c)}}}}function oo(e,t){return Pf(e,t,l([]))}function Df(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return l([]);e=r.tail,t=n-1}}function Uf(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=w(i,n)}}}function pe(e,t){return Uf(Y(e),t)}function Fr(e,t){return w(t,e)}function Ff(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return Y(n);{let i=r.head;e=r.tail,t=Pr(i,n)}}}function bt(e){return Ff(e,l([]))}function Z(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function Wf(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return new O(void 0);{let i=r.head,s=r.tail,o=n(i);if(o.isOk()){let a=o[0];return new k(a)}else e=s,t=n}}}function Au(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return!0;{let i=r.head,s=r.tail;if(n(i))e=s,t=n;else return!1}}}function Rf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return Y(s);{let o=n.head,a=n.tail;Tu(i,o)?(e=a,t=i,r=s):(e=a,t=H(i,o,void 0),r=w(o,s))}}}function zu(e){return Rf(e,We(),l([]))}function Hf(e,t,r,n,i,s){for(;;){let o=e,a=t,u=r,c=n,f=i,p=s,d=w(f,u);if(o.hasLength(0))return c instanceof ae?w(Y(d),p):w(d,p);{let _=o.head,h=o.tail,y=a(f,_);if(y instanceof le&&c instanceof wt)e=h,t=a,r=d,n=c,i=_,s=p;else if(y instanceof ie&&c instanceof ae)e=h,t=a,r=d,n=c,i=_,s=p;else if(y instanceof te&&c instanceof ae)e=h,t=a,r=d,n=c,i=_,s=p;else if(y instanceof le&&c instanceof ae){let $;c instanceof ae?$=w(Y(d),p):$=w(d,p);let S=$;if(h.hasLength(0))return w(l([_]),S);{let v=h.head,E=h.tail,A,x=a(_,v);x instanceof ie?A=new ae:x instanceof te?A=new ae:A=new wt;let M=A;e=E,t=a,r=l([_]),n=M,i=v,s=S}}else if(y instanceof ie&&c instanceof wt){let $;c instanceof ae?$=w(Y(d),p):$=w(d,p);let S=$;if(h.hasLength(0))return w(l([_]),S);{let v=h.head,E=h.tail,A,x=a(_,v);x instanceof ie?A=new ae:x instanceof te?A=new ae:A=new wt;let M=A;e=E,t=a,r=l([_]),n=M,i=v,s=S}}else{let $;c instanceof ae?$=w(Y(d),p):$=w(d,p);let S=$;if(h.hasLength(0))return w(l([_]),S);{let v=h.head,E=h.tail,A,x=a(_,v);x instanceof ie?A=new ae:x instanceof te?A=new ae:A=new wt;let M=A;e=E,t=a,r=l([_]),n=M,i=v,s=S}}}}}function Gf(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(i.hasLength(0))return Pr(s,a);if(s.hasLength(0))return Pr(i,a);{let u=i.head,c=i.tail,f=s.head,p=s.tail,d=o(u,f);d instanceof ie?(e=c,t=s,r=o,n=w(u,a)):d instanceof le?(e=i,t=p,r=o,n=w(f,a)):(e=i,t=p,r=o,n=w(f,a))}}}function Vf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return Y(s);if(n.hasLength(1)){let o=n.head;return Y(w(Y(o),s))}else{let o=n.head,a=n.tail.head,u=n.tail.tail,c=Gf(o,a,i,l([]));e=u,t=i,r=w(c,s)}}}function Jf(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(i.hasLength(0))return Pr(s,a);if(s.hasLength(0))return Pr(i,a);{let u=i.head,c=i.tail,f=s.head,p=s.tail,d=o(u,f);d instanceof ie?(e=i,t=p,r=o,n=w(f,a)):d instanceof le?(e=c,t=s,r=o,n=w(u,a)):(e=c,t=s,r=o,n=w(u,a))}}}function Kf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return Y(s);if(n.hasLength(1)){let o=n.head;return Y(w(Y(o),s))}else{let o=n.head,a=n.tail.head,u=n.tail.tail,c=Jf(o,a,i,l([]));e=u,t=i,r=w(c,s)}}}function Yf(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return l([]);if(n.hasLength(1)&&i instanceof ae)return n.head;if(n.hasLength(1)&&i instanceof wt){let o=n.head;return Y(o)}else i instanceof ae?(e=Vf(n,s,l([])),t=new wt,r=s):(e=Kf(n,s,l([])),t=new ae,r=s)}}function Xt(e,t){if(e.hasLength(0))return l([]);if(e.hasLength(1)){let r=e.head;return l([r])}else{let r=e.head,n=e.tail.head,i=e.tail.tail,s,o=t(r,n);o instanceof ie?s=new ae:o instanceof te?s=new ae:s=new wt;let a=s,u=Hf(i,t,l([r]),a,n,l([]));return Yf(u,new ae,t)}}function Ni(e,t){return Wf(e,r=>{let n=r[0],i=r[1];return J(n,t)?new k(i):new O(void 0)})}function lo(e){for(;;){let t=e,r=n=>{if(n.hasLength(0))return l([]);if(n.hasLength(1)){let i=n.head;return l([i])}else{let i=n.head;return l([i])}};if(t.hasLength(0))return l([]);if(t.atLeastLength(1)&&t.head.hasLength(0))e=t.tail;else{let n=t,i,o=W(n,r);i=bt(o);let a=i,u=lo(W(n,c=>Df(c,1)));return w(a,u)}}}function fo(e){return e===""}function Rr(e,t,r){let i=e,s=uo(i,t,r);return s}function Mu(e,t,r){if(r<0)return"";if(t<0){let s=ri(e)+t;return s<0?"":po(e,s,r)}else return po(e,t,r)}function ti(e,t){return t<0?e:Mu(e,0,ri(e)-t)}function ed(e,t){for(;;){let r=e,n=t;if(r.atLeastLength(1)){let i=r.head;e=r.tail,t=n+i}else return n}}function Ke(e){return ed(e,"")}function td(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return s;e=n,t=i-1,r=s+n}}function _o(e,t){return td(e,t,"")}function rd(e,t){let r=ri(t),n=Bt(e,r),i=Mt(e,r);return _o(t,n)+Mu(t,0,i)}function mo(e,t,r){let n=ri(e),i=t-n;return i<=0?e:rd(i,r)+e}function Hr(e){let r=qu(e);return Nu(r)}function dr(e,t){if(t==="")return ao(e);{let n=e,i=co(n,t);return W(i,se)}}function Gr(e){let t=yt(e);return t}function Uu(e){return!!e.isOk()}function Re(e,t){if(e.isOk()){let r=e[0];return new k(t(r))}else{let r=e[0];return new O(r)}}function _r(e,t){if(e.isOk()){let r=e[0];return new k(r)}else{let r=e[0];return new O(t(r))}}function ze(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new O(r)}}function Pt(e,t){return ze(e,t)}function Qt(e,t){return e.isOk()?e[0]:t}function Fu(e){return e.isOk(),e[0]}function Wu(e,t){return e.isOk()?e:t}function si(e){return oo(e,t=>t)}function go(e,t){if(e.isOk()){let r=e[0];return new k(r)}else return new O(t)}var Hu=new WeakMap,wo=new DataView(new ArrayBuffer(8)),bo=0;function yo(e){let t=Hu.get(e);if(t!==void 0)return t;let r=bo++;return bo===2147483647&&(bo=0),Hu.set(e,r),r}function vo(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function jo(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Vu(e){wo.setFloat64(0,e);let t=wo.getInt32(0),r=wo.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function od(e){return jo(e.toString())}function ld(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return yo(e);if(e instanceof Date)return Vu(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+nt(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+nt(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+vo(nt(n),nt(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+vo(nt(o),jo(s))|0}}return r}function nt(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Vu(e);case"string":return jo(e);case"bigint":return od(e);case"object":return ld(e);case"symbol":return yo(e);case"function":return yo(e);default:return 0}}var kt=5,So=Math.pow(2,kt),ud=So-1,ad=So/2,cd=So/4,Ie=0,vt=1,Ye=2,mr=3,Oo={type:Ye,bitmap:0,array:[]};function li(e,t){return e>>>t&ud}function Di(e,t){return 1<<li(e,t)}function pd(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Lo(e,t){return pd(e&t-1)}function it(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function fd(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function ko(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Ju(e,t,r,n,i,s){let o=nt(t);if(o===n)return{type:mr,hash:o,array:[{type:Ie,k:t,v:r},{type:Ie,k:i,v:s}]};let a={val:!1};return ui(Eo(Oo,e,o,t,r,a),e,n,i,s,a)}function ui(e,t,r,n,i,s){switch(e.type){case vt:return dd(e,t,r,n,i,s);case Ye:return Eo(e,t,r,n,i,s);case mr:return _d(e,t,r,n,i,s)}}function dd(e,t,r,n,i,s){let o=li(r,t),a=e.array[o];if(a===void 0)return s.val=!0,{type:vt,size:e.size+1,array:it(e.array,o,{type:Ie,k:n,v:i})};if(a.type===Ie)return J(n,a.k)?i===a.v?e:{type:vt,size:e.size,array:it(e.array,o,{type:Ie,k:n,v:i})}:(s.val=!0,{type:vt,size:e.size,array:it(e.array,o,Ju(t+kt,a.k,a.v,r,n,i))});let u=ui(a,t+kt,r,n,i,s);return u===a?e:{type:vt,size:e.size,array:it(e.array,o,u)}}function Eo(e,t,r,n,i,s){let o=Di(r,t),a=Lo(e.bitmap,o);if((e.bitmap&o)!==0){let u=e.array[a];if(u.type!==Ie){let f=ui(u,t+kt,r,n,i,s);return f===u?e:{type:Ye,bitmap:e.bitmap,array:it(e.array,a,f)}}let c=u.k;return J(n,c)?i===u.v?e:{type:Ye,bitmap:e.bitmap,array:it(e.array,a,{type:Ie,k:n,v:i})}:(s.val=!0,{type:Ye,bitmap:e.bitmap,array:it(e.array,a,Ju(t+kt,c,u.v,r,n,i))})}else{let u=e.array.length;if(u>=ad){let c=new Array(32),f=li(r,t);c[f]=Eo(Oo,t+kt,r,n,i,s);let p=0,d=e.bitmap;for(let _=0;_<32;_++){if((d&1)!==0){let h=e.array[p++];c[_]=h}d=d>>>1}return{type:vt,size:u+1,array:c}}else{let c=fd(e.array,a,{type:Ie,k:n,v:i});return s.val=!0,{type:Ye,bitmap:e.bitmap|o,array:c}}}}function _d(e,t,r,n,i,s){if(r===e.hash){let o=Ao(e,n);if(o!==-1)return e.array[o].v===i?e:{type:mr,hash:r,array:it(e.array,o,{type:Ie,k:n,v:i})};let a=e.array.length;return s.val=!0,{type:mr,hash:r,array:it(e.array,a,{type:Ie,k:n,v:i})}}return ui({type:Ye,bitmap:Di(e.hash,t),array:[e]},t,r,n,i,s)}function Ao(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(J(t,e.array[n].k))return n;return-1}function Pi(e,t,r,n){switch(e.type){case vt:return md(e,t,r,n);case Ye:return hd(e,t,r,n);case mr:return $d(e,n)}}function md(e,t,r,n){let i=li(r,t),s=e.array[i];if(s!==void 0){if(s.type!==Ie)return Pi(s,t+kt,r,n);if(J(n,s.k))return s}}function hd(e,t,r,n){let i=Di(r,t);if((e.bitmap&i)===0)return;let s=Lo(e.bitmap,i),o=e.array[s];if(o.type!==Ie)return Pi(o,t+kt,r,n);if(J(n,o.k))return o}function $d(e,t){let r=Ao(e,t);if(!(r<0))return e.array[r]}function zo(e,t,r,n){switch(e.type){case vt:return xd(e,t,r,n);case Ye:return gd(e,t,r,n);case mr:return wd(e,n)}}function xd(e,t,r,n){let i=li(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===Ie){if(!J(s.k,n))return e}else if(o=zo(s,t+kt,r,n),o===s)return e;if(o===void 0){if(e.size<=cd){let a=e.array,u=new Array(e.size-1),c=0,f=0,p=0;for(;c<i;){let d=a[c];d!==void 0&&(u[f]=d,p|=1<<c,++f),++c}for(++c;c<a.length;){let d=a[c];d!==void 0&&(u[f]=d,p|=1<<c,++f),++c}return{type:Ye,bitmap:p,array:u}}return{type:vt,size:e.size-1,array:it(e.array,i,o)}}return{type:vt,size:e.size,array:it(e.array,i,o)}}function gd(e,t,r,n){let i=Di(r,t);if((e.bitmap&i)===0)return e;let s=Lo(e.bitmap,i),o=e.array[s];if(o.type!==Ie){let a=zo(o,t+kt,r,n);return a===o?e:a!==void 0?{type:Ye,bitmap:e.bitmap,array:it(e.array,s,a)}:e.bitmap===i?void 0:{type:Ye,bitmap:e.bitmap^i,array:ko(e.array,s)}}return J(n,o.k)?e.bitmap===i?void 0:{type:Ye,bitmap:e.bitmap^i,array:ko(e.array,s)}:e}function wd(e,t){let r=Ao(e,t);if(r<0)return e;if(e.array.length!==1)return{type:mr,hash:e.hash,array:ko(e.array,r)}}function Ku(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===Ie){t(s.v,s.k);continue}Ku(s,t)}}}var st=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=Pi(this.root,0,nt(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?Oo:this.root,s=ui(i,0,nt(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=zo(this.root,0,nt(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:Pi(this.root,0,nt(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){Ku(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+vo(nt(r),nt(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((r,n)=>{if(!J(t.get(n,!r),r))throw Gu}),!0}catch(r){if(r===Gu)return!1;throw r}}},Gu=Symbol();var Ui=void 0,Yu={};function se(e){return e}function Ee(e){return/^[-+]?(\d+)$/.test(e)?new k(parseInt(e)):new O(Ui)}function Nr(e){return/^[-+]?(\d+)\.(\d+)([eE][-+]?\d+)?$/.test(e)?new k(parseFloat(e)):new O(Ui)}function B(e){return e.toString()}function Je(e){let t=e.toString().replace("+","");if(t.indexOf(".")>=0)return t;{let r=t.indexOf("e");return r>=0?t.slice(0,r)+".0"+t.slice(r):t+".0"}}function uo(e,t,r){return typeof e.replaceAll<"u"?e.replaceAll(t,r):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}function ri(e){if(e==="")return 0;let t=Fi(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function ao(e){let t=Fi(e);return t?ce.fromArray(Array.from(t).map(r=>r.segment)):ce.fromArray(e.match(/./gsu))}var Xu;function Fi(e){if(globalThis.Intl&&Intl.Segmenter)return Xu||=new Intl.Segmenter,Xu.segment(e)[Symbol.iterator]()}function ni(e){let t,r=Fi(e);return r?t=r.next().value?.segment:t=e.match(/./su)?.[0],t?new k([t,e.slice(t.length)]):new O(Ui)}function hr(e){return[e.charCodeAt(0)|0,e.slice(1)]}function Ae(e){return e.toLowerCase()}function co(e,t){return ce.fromArray(e.split(t))}function po(e,t,r){if(r<=0||t>=e.length)return"";let n=Fi(e);if(n){for(;t-- >0;)n.next();let i="";for(;r-- >0;){let s=n.next().value;if(s===void 0)break;i+=s.segment}return i}else return e.match(/./gsu).slice(t,t+r).join("")}function Le(e,t,r){return e.slice(t,t+r)}function ii(e,t){return e.startsWith(t)}var Qu=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),yd=new RegExp(`^[${Qu}]*`),vd=new RegExp(`[${Qu}]*$`);function qu(e){return e.replace(yd,"")}function Nu(e){return e.replace(vd,"")}function He(e){console.log(e)}function er(e){console.error(e)}function no(e){return Math.round(e)}function Qn(e){return Math.trunc(e)}function io(e,t){return Math.pow(e,t)}function We(){return st.new()}function oi(e){return ce.fromArray(e.entries())}function Zu(e,t){return t.delete(e)}function N(e,t){let r=e.get(t,Yu);return r===Yu?new O(Ui):new k(r)}function ea(e,t,r){return r.set(e,t)}function Zt(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Cr)return"Result";if(e instanceof ce)return"List";if(e instanceof Kt)return"BitArray";if(e instanceof st)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function yt(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return kd(e);if(t==="bigint"||Number.isInteger(e))return e.toString();if(t==="number")return Je(e);if(Array.isArray(e))return`#(${e.map(yt).join(", ")})`;if(e instanceof ce)return Ld(e);if(e instanceof Yn)return Ed(e);if(e instanceof Kt)return`<<${Du(e,"")}>>`;if(e instanceof m)return Od(e);if(e instanceof st)return jd(e);if(e instanceof Set)return`//js(Set(${[...e].map(yt).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let r=[];for(let n of Array(e.length).keys())r.push(String.fromCharCode(n+97));return`//fn(${r.join(", ")}) { ... }`}return Sd(e)}function kd(e){let t='"';for(let r=0;r<e.length;r++){let n=e[r];switch(n){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:n<" "||n>"~"&&n<"\xA0"?t+="\\u{"+n.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=n}}return t+='"',t}function jd(e){let t="dict.from_list([",r=!0;return e.forEach((n,i)=>{r||(t=t+", "),t=t+"#("+yt(i)+", "+yt(n)+")",r=!1}),t+"])"}function Sd(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",r=[];for(let s of Object.keys(e))r.push(`${yt(s)}: ${yt(e[s])}`);let n=r.length?" "+r.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${n}})`}function Od(e){let t=Object.keys(e).map(r=>{let n=yt(e[r]);return isNaN(parseInt(r))?`${r}: ${n}`:n}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Ld(e){return`[${e.toArray().map(yt).join(", ")}]`}function Ed(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function Du(e,t){if(e.bitSize===0)return t;for(let r=0;r<e.byteSize-1;r++)t+=e.byteAt(r).toString(),t+=", ";if(e.byteSize*8===e.bitSize)t+=e.byteAt(e.byteSize-1).toString();else{let r=e.bitSize%8;t+=e.byteAt(e.byteSize-1)>>8-r,t+=`:size(${r})`}return t}function zd(e,t){return!J(N(t,e),new O(void 0))}function Tu(e,t){return zd(t,e)}function H(e,t,r){return ea(t,r,e)}function Td(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head[0],s=r.head[1];e=r.tail,t=H(n,i,s)}}}function It(e){return Td(e,We())}function ta(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=w(i,n)}}}function Cd(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return ta(n,l([]));{let i=r.head[0];e=r.tail,t=w(i,n)}}}function Dt(e){return Cd(oi(e),l([]))}function Md(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return ta(n,l([]));{let i=r.head[1];e=r.tail,t=w(i,n)}}}function Ne(e){let t=oi(e);return Md(t,l([]))}function Wi(e,t){return Zu(t,e)}function tr(e,t,r){let n=N(e,t);if(n.isOk()){let i=n[0];return H(e,t,r(new j(i)))}else return H(e,t,r(new C))}function Bd(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head[0],a=n.head[1];e=n.tail,t=s(i,o,a),r=s}}}function rr(e,t,r){return Bd(oi(e),t,r)}function qd(e,t){let r=(n,i,s)=>H(n,i,e(i,s));return rr(t,We(),r)}function Te(e,t){return qd(t,e)}function ra(e,t){if(e instanceof st||e instanceof WeakMap||e instanceof Map){let n={},i=e.get(t,n);return i===n?new k(new C):new k(new j(i))}let r=Number.isInteger(t);if(r&&t>=0&&t<8&&e instanceof ce){let n=0;for(let i of e){if(n===t)return new k(new j(i));n++}return new O("Indexable")}return r&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new k(new j(e[t])):new k(new C):new O(r?"Indexable":"Dict")}function na(e,t,r,n,i){if(!(e instanceof ce||Array.isArray(e))){let o=new Ut("List",Zt(e),i);return[i,ce.fromArray([o])]}let s=[];for(let o of e){let a=t(o),[u,c]=a;if(c instanceof Fe){let[f,p]=r(a,n.toString());return[i,p]}s.push(u),n++}return[ce.fromArray(s),i]}function ia(e){return typeof e=="number"?new k(e):new O(0)}function sa(e){return Number.isInteger(e)?new k(e):new O(0)}function oa(e){return typeof e=="string"?new k(e):new O("")}var Ut=class extends m{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}},pt=class extends m{constructor(t){super(),this.function=t}};function nr(e,t){let r=t.function(e),n=r[0],i=r[1];return i.hasLength(0)?new k(n):new O(i)}function Ft(e){return new pt(t=>[e,l([])])}function Hi(e,t){return new pt(r=>{let n=e.function(r),i=n[0],s=n[1];return[t(i),s]})}function Nd(e,t,r){for(;;){let n=e,i=t,s=r;if(s.hasLength(0))return i;{let o=s.head,a=s.tail,u=o.function(n),c=u;if(u[1].hasLength(0))return c;e=n,t=i,r=a}}}function la(e,t){return new pt(r=>{let n=e.function(r),i=n;return n[1].hasLength(0)?i:Nd(r,i,t)})}function Id(e,t){return l([new Ut(e,Zt(t),l([]))])}function Co(e,t,r){let n=r(e);return n.isOk()?[n[0],l([])]:[n[0],l([new Ut(t,Zt(e),l([]))])]}function Pd(e){return J(!0,e)?[!0,l([])]:J(!1,e)?[!1,l([])]:[!1,Id("Bool",e)]}function Dd(e){return Co(e,"Int",sa)}function Ud(e){return Co(e,"Float",ia)}var Gi=new pt(Pd),fe=new pt(Dd),Vi=new pt(Ud);function Fd(e){return Co(e,"String",oa)}var jt=new pt(Fd);function ai(e){return new pt(t=>na(t,e.function,(r,n)=>Ri(r,l([n])),0,l([])))}function Ri(e,t){let r=la(jt,l([Hi(fe,B)])),n=W(t,s=>{let o=s,a=nr(o,r);return a.isOk()?a[0]:"<"+Zt(o)+">"}),i=W(e[1],s=>{let o=s;return new Ut(o.expected,o.found,pe(n,s.path))});return[e[0],i]}function Wd(e,t,r,n,i){for(;;){let s=e,o=t,a=r,u=n,c=i;if(s.hasLength(0)){let f=a(u);return Ri(f,Y(o))}else{let f=s.head,p=s.tail,d=ra(u,f);if(d.isOk()&&d[0]instanceof j){let _=d[0][0];e=p,t=w(f,o),r=a,n=_,i=c}else{if(d.isOk()&&d[0]instanceof C)return c(u,w(f,o));{let _=d[0],$=[a(u)[0],l([new Ut(_,Zt(u),l([]))])];return Ri($,Y(o))}}}}}function Mo(e,t,r){return new pt(n=>{let i=Wd(e,l([]),t.function,n,(f,p)=>{let h=[t.function(f)[0],l([new Ut("Field","Nothing",l([]))])];return Ri(h,Y(p))}),s=i[0],o=i[1],a=r(s).function(n),u=a[0],c=a[1];return[u,pe(o,c)]})}function ee(e,t,r){return Mo(l([e]),t,r)}function ft(e,t,r){return e?t:r()}function Bo(e,t,r){return e?t():r()}function Ge(e){return e}function ua(e){try{let t=JSON.parse(e);return new k(t)}catch(t){return new O(Hd(t,e))}}function Hd(e,t){return Gd(e)?new Yi:Vd(e,t)}function Gd(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Vd(e,t){let r=[Jd,Kd,Xd,Yd];for(let n of r){let i=n(e,t);if(i)return i}return new ir("",0)}function Jd(e){let r=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!r)return null;let n=Ki(r[1]);return new ir(n,-1)}function Kd(e){let r=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!r)return null;let n=Ki(r[1]),i=Number(r[2]);return new ir(n,i)}function Yd(e,t){let n=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!n)return null;let i=Number(n[2]),s=Number(n[3]),o=Qd(i,s,t),a=Ki(t[o]);return new ir(a,o)}function Xd(e){let r=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!r)return null;let n=Ki(r[2]);return new ir(n,0)}function Ki(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function Qd(e,t,r){if(e===1)return t-1;let n=1,i=0;return r.split("").find((s,o)=>(s===`
`&&(n+=1),n===e?(i=o+t,!0):!1)),i}var Yi=class extends m{},ir=class extends m{constructor(t){super(),this[0]=t}};var qo=class extends m{constructor(t){super(),this[0]=t}};function e_(e,t){return Pt(ua(e),r=>{let n=nr(r,t);return _r(n,i=>new qo(i))})}function aa(e,t){return e_(e,t)}function Io(e){return e}var Xi=class extends m{constructor(t){super(),this.dict=t}};function pa(){return new Xi(We())}function Po(e,t){let r=e.dict,n=N(r,t);return Uu(n)}var r_=void 0;function fa(e,t){return new Xi(H(e.dict,t,r_))}var i_=st.new();function Qi(){return i_}var s_=pa();function ci(){return s_}var dt=globalThis?.document,Zi="http://www.w3.org/1999/xhtml",es=1,ts=3,pi=11,da=!!globalThis.HTMLElement?.prototype?.moveBefore;var U=l([]),rs=new C;var o_=new le,l_=new ie,u_=new te;function ns(e,t){return e.name===t.name?u_:e.name<t.name?l_:o_}var ot=class extends m{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},Yr=class extends m{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},Ce=class extends m{constructor(t,r,n,i,s,o,a,u){super(),this.kind=t,this.name=r,this.handler=n,this.include=i,this.prevent_default=s,this.stop_propagation=o,this.immediate=a,this.limit=u}},Xr=class extends m{constructor(t){super(),this.kind=t}},fi=class extends m{constructor(t,r){super(),this.kind=t,this.delay=r}},di=class extends m{constructor(t,r){super(),this.kind=t,this.delay=r}};function ba(e,t){if(e instanceof Xr&&t instanceof Xr)return!0;if(e instanceof fi&&t instanceof fi&&e.delay===t.delay){let r=e.delay,n=t.delay;return!0}else if(e instanceof di&&t instanceof di&&e.delay===t.delay){let r=e.delay,n=t.delay;return!0}else return!1}function f_(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;if(r.atLeastLength(2)&&r.head instanceof ot&&r.head.name==="class"&&r.tail.head instanceof ot&&r.tail.head.name==="class"){let i=r.head.kind,s=r.head.value,o=r.tail.head.value,a=r.tail.tail,u=s+" "+o,c=new ot(i,"class",u);e=w(c,a),t=n}else if(r.atLeastLength(2)&&r.head instanceof ot&&r.head.name==="style"&&r.tail.head instanceof ot&&r.tail.head.name==="style"){let i=r.head.kind,s=r.head.value,o=r.tail.head.value,a=r.tail.tail,u=s+";"+o,c=new ot(i,"style",u);e=w(c,a),t=n}else{let i=r.head;e=r.tail,t=w(i,n)}}}function ya(e){if(e.hasLength(0))return e;if(e.hasLength(1))return e;{let r=Xt(e,(n,i)=>ns(i,n));return f_(r,U)}}var Wo=0;function va(e,t){return new ot(Wo,e,t)}var Ro=1;function ka(e,t){return new Yr(Ro,e,t)}var Ho=2;function ja(e,t,r,n,i,s,o){return new Ce(Ho,e,t,r,n,i,s,o)}var Go=1;var Vo=2;function g(e,t){return va(e,t)}function d_(e,t){return ka(e,t)}function Jo(e,t){return t?g(e,""):d_(e,Io(!1))}function b(e){return g("class",e)}function Sa(e){return Jo("hidden",e)}function _t(e){return g("id",e)}function Oa(e){return g("href",e)}function La(e){return Jo("disabled",e)}function is(e){return g("for",e)}function Ea(e){return g("max",e)}function Aa(e){return g("min",e)}function Ko(e){return g("name",e)}function Yo(e){return g("placeholder",e)}function za(e){return Jo("selected",e)}function ss(e){return g("step",e)}function Wt(e){return g("type",e)}function Ot(e){return g("value",e)}var hi=class extends m{constructor(t,r,n){super(),this.synchronous=t,this.before_paint=r,this.after_paint=n}};var Xo=new hi(l([]),l([]),l([]));function F(){return Xo}function mt(e){let t=n=>{let i=n.dispatch;return e(i)},r=Xo;return new hi(l([t]),r.before_paint,r.after_paint)}function Lt(e){return Z(e,Xo,(t,r)=>new hi(Z(r.synchronous,t.synchronous,Fr),Z(r.before_paint,t.before_paint,Fr),Z(r.after_paint,t.after_paint,Fr)))}function Xe(){return null}function Qr(e,t){let r=e?.get(t);return r!=null?new k(r):new O(void 0)}function $i(e,t,r){return e??=new Map,e.set(t,r),e}function Qo(e,t){return e?.delete(t),e}var ls=class extends m{},us=class extends m{constructor(t,r){super(),this.key=t,this.parent=r}},Zo=class extends m{constructor(t,r){super(),this.index=t,this.parent=r}};function __(e,t){for(;;){let r=e,n=t;if(n.hasLength(0))return!1;{let i=n.head,s=n.tail;if(ii(r,i))return!0;e=r,t=s}}}function sr(e,t,r){return r===""?new Zo(t,e):new us(r,e)}var el=new ls,tl=`
`,rl="	";function Ta(e,t){for(;;){let r=e,n=t;if(r instanceof ls){if(n.hasLength(0))return"";{let i=n.tail;return Ke(i)}}else if(r instanceof us){let i=r.key;e=r.parent,t=w(rl,w(i,n))}else{let i=r.index;e=r.parent,t=w(tl,w(B(i),n))}}}function m_(e){return Ta(e,l([]))}function Ca(e,t){return t.hasLength(0)?!1:__(m_(e),t)}var nl="\f";function il(e,t){return Ta(e,l([nl,t]))}var Pe=class extends m{constructor(t,r,n,i,s,o){super(),this.kind=t,this.key=r,this.mapper=n,this.children=i,this.keyed_children=s,this.children_count=o}},lt=class extends m{constructor(t,r,n,i,s,o,a,u,c,f){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=s,this.attributes=o,this.children=a,this.keyed_children=u,this.self_closing=c,this.void=f}},Et=class extends m{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.mapper=n,this.content=i}},$t=class extends m{constructor(t,r,n,i,s,o,a){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=s,this.attributes=o,this.inner_html=a}};function x_(e,t){return t===""?e==="area"||e==="base"||e==="br"||e==="col"||e==="embed"||e==="hr"||e==="img"||e==="input"||e==="link"||e==="meta"||e==="param"||e==="source"||e==="track"?!0:e==="wbr":!1}function Qe(e){return e instanceof Pe?1+e.children_count:1}var sl=0;function Ba(e,t,r,n,i){return new Pe(sl,e,t,r,n,i)}var ol=1;function ll(e,t,r,n,i,s,o,a,u){return new lt(ol,e,t,r,n,ya(i),s,o,a,u||x_(n,r))}var ul=2;function al(e,t,r){return new Et(ul,e,t,r)}var qa=3;function Na(e,t,r,n,i){for(;;){let s=e,o=t,a=r,u=n,c=i;if(o.hasLength(0))return[Y(u),c];if(o.atLeastLength(1)&&o.head instanceof Pe&&o.head.key===""){let f=o.head,p=o.tail,d=s+"::"+B(a),_=Na(d,f.children,0,U,Xe()),h=_[0],y=_[1],$,S=f;$=new Pe(S.kind,S.key,S.mapper,h,y,S.children_count);let E=w($,u),A=a+1;e=s,t=p,r=A,n=E,i=c}else if(o.atLeastLength(1)&&o.head.key!==""){let f=o.head,p=o.tail,d=s+"::"+f.key,_=cl(d,f),h=w(_,u),y=$i(c,d,_),$=a+1;e=s,t=p,r=$,n=h,i=y}else{let f=o.head,p=o.tail,d=w(f,u),_=a+1;e=s,t=p,r=_,n=d,i=c}}}function cl(e,t){if(t instanceof lt){let r=t;return new lt(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.children,r.keyed_children,r.self_closing,r.void)}else if(t instanceof Et){let r=t;return new Et(r.kind,e,r.mapper,r.content)}else if(t instanceof $t){let r=t;return new $t(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.inner_html)}else{let r=t.children,n=Na(e,r,0,U,Xe()),i=n[0],s=n[1],o=t;return new Pe(o.kind,e,o.mapper,i,s,o.children_count)}}var xr=class extends m{constructor(t,r,n,i){super(),this.index=t,this.removed=r,this.changes=n,this.children=i}},pl=class extends m{constructor(t,r){super(),this.kind=t,this.content=r}},fl=class extends m{constructor(t,r){super(),this.kind=t,this.inner_html=r}},dl=class extends m{constructor(t,r,n){super(),this.kind=t,this.added=r,this.removed=n}},_l=class extends m{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.before=n,this.count=i}},ml=class extends m{constructor(t,r,n){super(),this.kind=t,this.key=r,this.count=n}},hl=class extends m{constructor(t,r,n,i){super(),this.kind=t,this.from=r,this.count=n,this.with=i}},$l=class extends m{constructor(t,r,n){super(),this.kind=t,this.children=r,this.before=n}},xl=class extends m{constructor(t,r,n){super(),this.kind=t,this.from=r,this.count=n}};function gl(e,t,r,n){return new xr(e,t,r,n)}var wl=0;function Ia(e){return new pl(wl,e)}var bl=1;function Pa(e){return new fl(bl,e)}var yl=2;function vl(e,t){return new dl(yl,e,t)}var as=3;function Da(e,t,r){return new _l(as,e,t,r)}var kl=4;function Ua(e,t){return new ml(kl,e,t)}var cs=5;function jl(e,t,r){return new hl(cs,e,t,r)}var ps=6;function Sl(e,t){return new $l(ps,e,t)}var fs=7;function Fa(e,t){return new xl(fs,e,t)}var hs=class extends m{constructor(t,r){super(),this.patch=t,this.events=r}},Ol=class extends m{constructor(t,r,n){super(),this.added=t,this.removed=r,this.events=n}};function w_(e,t,r,n){return r==="input"&&t===""?_s(e,n):r==="select"&&t===""?_s(e,n):r==="textarea"&&t===""?_s(e,n):!1}function Ra(e,t,r,n,i,s,o,a){for(;;){let u=e,c=t,f=r,p=n,d=i,_=s,h=o,y=a;if(d.hasLength(0)&&_.hasLength(0))return new Ol(h,y,p);if(d.atLeastLength(1)&&d.head instanceof Ce&&_.hasLength(0)){let $=d.head,S=d.head.name,v=d.tail,E=w($,y),A=ds(p,c,S);e=u,t=c,r=f,n=A,i=v,s=_,o=h,a=E}else if(d.atLeastLength(1)&&_.hasLength(0)){let $=d.head,S=d.tail,v=w($,y);e=u,t=c,r=f,n=p,i=S,s=_,o=h,a=v}else if(d.hasLength(0)&&_.atLeastLength(1)&&_.head instanceof Ce){let $=_.head,S=_.head.name,v=_.head.handler,E=_.tail,A=w($,h),x=gi(p,f,c,S,v);e=u,t=c,r=f,n=x,i=d,s=E,o=A,a=y}else if(d.hasLength(0)&&_.atLeastLength(1)){let $=_.head,S=_.tail,v=w($,h);e=u,t=c,r=f,n=p,i=d,s=S,o=v,a=y}else{let $=d.head,S=d.tail,v=_.head,E=_.tail,A=ns($,v);if($ instanceof ot&&A instanceof te&&v instanceof ot){let x,M=v.name;M==="value"||M==="checked"||M==="selected"?x=u||$.value!==v.value:x=$.value!==v.value;let L=x,P;L?P=w(v,h):P=h;let G=P;e=u,t=c,r=f,n=p,i=S,s=E,o=G,a=y}else if($ instanceof Yr&&A instanceof te&&v instanceof Yr){let x,M=v.name;M==="scrollLeft"||M==="scrollRight"?x=!0:M==="value"?x=u||!J($.value,v.value):M==="checked"?x=u||!J($.value,v.value):M==="selected"?x=u||!J($.value,v.value):x=!J($.value,v.value);let L=x,P;L?P=w(v,h):P=h;let G=P;e=u,t=c,r=f,n=p,i=S,s=E,o=G,a=y}else if($ instanceof Ce&&A instanceof te&&v instanceof Ce){let x=v.name,M=v.handler,L=$.prevent_default!==v.prevent_default||$.stop_propagation!==v.stop_propagation||$.immediate!==v.immediate||!ba($.limit,v.limit),P;L?P=w(v,h):P=h;let G=P,Q=gi(p,f,c,x,M);e=u,t=c,r=f,n=Q,i=S,s=E,o=G,a=y}else if($ instanceof Ce&&A instanceof te){let x=$.name,M=w(v,h),L=w($,y),P=ds(p,c,x);e=u,t=c,r=f,n=P,i=S,s=E,o=M,a=L}else if(A instanceof te&&v instanceof Ce){let x=v.name,M=v.handler,L=w(v,h),P=w($,y),G=gi(p,f,c,x,M);e=u,t=c,r=f,n=G,i=S,s=E,o=L,a=P}else if(A instanceof te){let x=w(v,h),M=w($,y);e=u,t=c,r=f,n=p,i=S,s=E,o=x,a=M}else if(A instanceof le&&v instanceof Ce){let x=v.name,M=v.handler,L=w(v,h),P=gi(p,f,c,x,M);e=u,t=c,r=f,n=P,i=d,s=E,o=L,a=y}else if(A instanceof le){let x=w(v,h);e=u,t=c,r=f,n=p,i=d,s=E,o=x,a=y}else if($ instanceof Ce&&A instanceof ie){let x=$.name,M=w($,y),L=ds(p,c,x);e=u,t=c,r=f,n=L,i=S,s=_,o=h,a=M}else{let x=w($,y);e=u,t=c,r=f,n=p,i=S,s=_,o=h,a=x}}}}function Ll(e,t,r,n,i,s,o,a,u,c,f,p,d,_){for(;;){let h=e,y=t,$=r,S=n,v=i,E=s,A=o,x=a,M=u,L=c,P=f,G=p,Q=d,ge=_;if(h.hasLength(0)&&$.hasLength(0))return new hs(new xr(M,A,P,G),ge);if(h.atLeastLength(1)&&$.hasLength(0)){let R=h.head,_e=h.tail,D;R.key===""||!Po(v,R.key)?D=A+Qe(R):D=A;let me=D,ve=wi(ge,L,x,R);e=_e,t=y,r=$,n=S,i=v,s=E,o=me,a=x,u=M,c=L,f=P,p=G,d=Q,_=ve}else if(h.hasLength(0)&&$.atLeastLength(1)){let R=Ga(ge,Q,L,x,$),_e=Sl($,x-E),D=w(_e,P);return new hs(new xr(M,A,D,G),R)}else if(h.atLeastLength(1)&&$.atLeastLength(1)&&h.head.key!==$.head.key){let R=h.head,_e=h.tail,D=$.head,Be=$.tail,me=Qr(y,D.key),ve=Qr(S,R.key),Ve=Po(v,R.key);if(ve.isOk()&&me.isOk()&&Ve)e=_e,t=y,r=$,n=S,i=v,s=E-Qe(R),o=A,a=x,u=M,c=L,f=P,p=G,d=Q,_=ge;else if(ve.isOk()&&me.isOk()){let oe=me[0],re=Qe(D),we=x-E,ke=Da(D.key,we,re),qe=w(ke,P),at=fa(v,D.key),gt=E+re;e=w(oe,h),t=y,r=$,n=S,i=at,s=gt,o=A,a=x,u=M,c=L,f=qe,p=G,d=Q,_=ge}else if(!ve.isOk()&&me.isOk()){let oe=Qe(R),re=E-oe,we=wi(ge,L,x,R),ke=Ua(R.key,oe),qe=w(ke,P);e=_e,t=y,r=$,n=S,i=v,s=re,o=A,a=x,u=M,c=L,f=qe,p=G,d=Q,_=we}else if(ve.isOk()&&!me.isOk()){let oe=x-E,re=Qe(D),we=ms(ge,Q,L,x,D),ke=Sl(l([D]),oe),qe=w(ke,P);e=h,t=y,r=Be,n=S,i=v,s=E+re,o=A,a=x+re,u=M,c=L,f=qe,p=G,d=Q,_=we}else{let oe=Qe(R),re=Qe(D),we=jl(x-E,oe,D),ke,at=wi(ge,L,x,R);ke=ms(at,Q,L,x,D);let gt=ke;e=_e,t=y,r=Be,n=S,i=v,s=E-oe+re,o=A,a=x+re,u=M,c=L,f=w(we,P),p=G,d=Q,_=gt}}else if(h.atLeastLength(1)&&h.head instanceof Pe&&$.atLeastLength(1)&&$.head instanceof Pe){let R=h.head,_e=h.tail,D=$.head,Be=$.tail,me=x+1,ve=R.children_count,Ve=D.children_count,oe=or(Q,D.mapper),re=Ll(R.children,R.keyed_children,D.children,D.keyed_children,ci(),E,0,me,-1,L,U,G,oe,ge),we;if(re.patch.removed>0){let at=me+Ve-E,gt=Fa(at,re.patch.removed);we=pe(re.patch.changes,w(gt,P))}else we=pe(re.patch.changes,P);let qe=we;e=_e,t=y,r=Be,n=S,i=v,s=E+Ve-ve,o=A,a=me+Ve,u=M,c=L,f=qe,p=re.patch.children,d=Q,_=re.events}else if(h.atLeastLength(1)&&h.head instanceof lt&&$.atLeastLength(1)&&$.head instanceof lt&&h.head.namespace===$.head.namespace&&h.head.tag===$.head.tag){let R=h.head,_e=h.tail,D=$.head,Be=$.tail,me=or(Q,D.mapper),ve=sr(L,x,D.key),Ve=w_(ge,D.namespace,D.tag,ve),oe=Ra(Ve,ve,me,ge,R.attributes,D.attributes,U,U),re=oe.added,we=oe.removed,ke=oe.events,qe;re.hasLength(0)&&we.hasLength(0)?qe=U:qe=l([vl(re,we)]);let at=qe,gt=Ll(R.children,R.keyed_children,D.children,D.keyed_children,ci(),0,0,0,x,ve,at,U,me,ke),Tr,Jt=gt.patch;Jt instanceof xr&&Jt.removed===0&&Jt.changes.hasLength(0)&&Jt.children.hasLength(0)?Tr=G:Tr=w(gt.patch,G);let eo=Tr;e=_e,t=y,r=Be,n=S,i=v,s=E,o=A,a=x+1,u=M,c=L,f=P,p=eo,d=Q,_=gt.events}else if(h.atLeastLength(1)&&h.head instanceof Et&&$.atLeastLength(1)&&$.head instanceof Et&&h.head.content===$.head.content){let R=h.head,_e=h.tail,D=$.head,Be=$.tail;e=_e,t=y,r=Be,n=S,i=v,s=E,o=A,a=x+1,u=M,c=L,f=P,p=G,d=Q,_=ge}else if(h.atLeastLength(1)&&h.head instanceof Et&&$.atLeastLength(1)&&$.head instanceof Et){let R=h.tail,_e=$.head,D=$.tail,Be=gl(x,0,l([Ia(_e.content)]),U);e=R,t=y,r=D,n=S,i=v,s=E,o=A,a=x+1,u=M,c=L,f=P,p=w(Be,G),d=Q,_=ge}else if(h.atLeastLength(1)&&h.head instanceof $t&&$.atLeastLength(1)&&$.head instanceof $t){let R=h.head,_e=h.tail,D=$.head,Be=$.tail,me=or(Q,D.mapper),ve=sr(L,x,D.key),Ve=Ra(!1,ve,me,ge,R.attributes,D.attributes,U,U),oe=Ve.added,re=Ve.removed,we=Ve.events,ke;oe.hasLength(0)&&re.hasLength(0)?ke=U:ke=l([vl(oe,re)]);let qe=ke,at;R.inner_html===D.inner_html?at=qe:at=w(Pa(D.inner_html),qe);let Tr=at,Jt;Tr.hasLength(0)?Jt=G:Jt=w(gl(x,0,Tr,l([])),G);let eo=Jt;e=_e,t=y,r=Be,n=S,i=v,s=E,o=A,a=x+1,u=M,c=L,f=P,p=eo,d=Q,_=we}else{let R=h.head,_e=h.tail,D=$.head,Be=$.tail,me=Qe(R),ve=Qe(D),Ve=jl(x-E,me,D),oe,we=wi(ge,L,x,R);oe=ms(we,Q,L,x,D);let ke=oe;e=_e,t=y,r=Be,n=S,i=v,s=E-me+ve,o=A,a=x+ve,u=M,c=L,f=w(Ve,P),p=G,d=Q,_=ke}}}function El(e,t,r){return Ll(l([t]),Xe(),l([r]),Xe(),ci(),0,0,0,0,el,U,U,Ge,Ha(e))}var xs=class{offset=0;#e=null;#s=()=>{};#u=!1;constructor(t,r,{useServerEvents:n=!1}={}){this.#e=t,this.#s=r,this.#u=n}mount(t){$s(this.#e,this.#l(t))}#r=[];push(t){let r=this.offset;r&&(Rt(t.changes,n=>{switch(n.kind){case ps:case as:n.before=(n.before|0)+r;break;case fs:case cs:n.from=(n.from|0)+r;break}}),Rt(t.children,n=>{n.index=(n.index|0)+r})),this.#r.push({node:this.#e,patch:t}),this.#o()}#o(){let t=this;for(;t.#r.length;){let{node:r,patch:n}=t.#r.pop();Rt(n.changes,i=>{switch(i.kind){case ps:t.#a(r,i.children,i.before);break;case as:t.#f(r,i.key,i.before,i.count);break;case kl:t.#d(r,i.key,i.count);break;case fs:t.#t(r,i.from,i.count);break;case cs:t.#c(r,i.from,i.count,i.with);break;case wl:t.#i(r,i.content);break;case bl:t.#_(r,i.inner_html);break;case yl:t.#p(r,i.added,i.removed);break}}),n.removed&&t.#t(r,r.childNodes.length-n.removed,n.removed),Rt(n.children,i=>{t.#r.push({node:yi(r,i.index),patch:i})})}}#a(t,r,n){let i=Ka();Rt(r,s=>{let o=this.#l(s);zl(t,o),$s(i,o)}),Al(t,i,yi(t,n))}#f(t,r,n,i){let s=Ya(t,r),o=yi(t,n);for(let a=0;a<i&&s!==null;++a){let u=s.nextSibling;da?t.moveBefore(s,o):Al(t,s,o),s=u}}#d(t,r,n){this.#n(t,Ya(t,r),n)}#t(t,r,n){this.#n(t,yi(t,r),n)}#n(t,r,n){for(;n-- >0&&r!==null;){let i=r.nextSibling,s=r[be].key;s&&t[be].keyedChildren.delete(s);for(let[o,{timeout:a}]of r[be].debouncers)clearTimeout(a);t.removeChild(r),r=i}}#c(t,r,n,i){this.#t(t,r,n);let s=this.#l(i);zl(t,s),Al(t,s,yi(t,r))}#i(t,r){t.data=r??""}#_(t,r){t.innerHTML=r??""}#p(t,r,n){Rt(n,i=>{let s=i.name;t[be].handlers.has(s)?(t.removeEventListener(s,Xa),t[be].handlers.delete(s),t[be].throttles.has(s)&&t[be].throttles.delete(s),t[be].debouncers.has(s)&&(clearTimeout(t[be].debouncers.get(s).timeout),t[be].debouncers.delete(s))):(t.removeAttribute(s),Za[s]?.removed?.(t,s))}),Rt(r,i=>{this.#h(t,i)})}#l(t){switch(t.kind){case ol:{let r=Va(t);return this.#m(r,t),this.#a(r,t.children,0),r}case ul:{let r=Ja(t.content);return Ht(r,t.key),r}case sl:{let r=Ka(),n=Ja();return Ht(n,t.key),$s(r,n),Rt(t.children,i=>{$s(r,this.#l(i))}),r}case qa:{let r=Va(t);return this.#m(r,t),this.#_(r,t.inner_html),r}}}#m(t,{attributes:r}){Rt(r,n=>this.#h(t,n))}#h(t,r){let n=t[be];switch(r.kind){case Wo:{let i=r.name,s=r.value??"";s!==t.getAttribute(i)&&t.setAttribute(i,s),Za[i]?.added?.(t,s);break}case Ro:t[r.name]=r.value;break;case Ho:{n.handlers.has(r.name)||t.addEventListener(r.name,Xa,{passive:!r.prevent_default});let i=r.prevent_default,s=r.stop_propagation,o=r.immediate,a=Array.isArray(r.include)?r.include:[];if(r.limit?.kind===Vo){let u=n.throttles.get(r.name)??{last:0,delay:r.limit.delay};n.throttles.set(r.name,u)}if(r.limit?.kind===Go){let u=n.debouncers.get(r.name)??{timeout:null,delay:r.limit.delay};n.debouncers.set(r.name,u)}n.handlers.set(r.name,u=>{i&&u.preventDefault(),s&&u.stopPropagation();let c=u.type,f="",p=u.currentTarget;for(;p!==this.#e;){let _=p[be].key,h=p.parentNode;if(_)f=`${rl}${_}${f}`;else{let y=h.childNodes,$=[].indexOf.call(y,p);h===this.#e&&($-=this.offset),f=`${tl}${$}${f}`}p=h}f=f.slice(1);let d=this.#u?b_(u,a):u;if(n.throttles.has(c)){let _=n.throttles.get(c),h=Date.now(),y=_.last||0;h>y+_.delay?(_.last=h,this.#s(d,f,c,o)):u.preventDefault()}else if(n.debouncers.has(c)){let _=n.debouncers.get(c);clearTimeout(_.timeout),_.timeout=setTimeout(()=>{this.#s(d,f,c,o)},_.delay)}else this.#s(d,f,c,o)});break}}}},Rt=(e,t)=>{if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else if(e)for(e;e.tail;e=e.tail)t(e.head)},$s=(e,t)=>e.appendChild(t),Al=(e,t,r)=>e.insertBefore(t,r??null),Va=({key:e,tag:t,namespace:r})=>{let n=dt.createElementNS(r||Zi,t);return Ht(n,e),n},Ja=e=>dt.createTextNode(e??""),Ka=()=>dt.createDocumentFragment(),yi=(e,t)=>e.childNodes[t|0],be=Symbol("lustre"),Ht=(e,t="")=>{switch(e.nodeType){case es:case pi:e[be]={key:t,keyedChildren:new Map,handlers:new Map,throttles:new Map,debouncers:new Map};break;case ts:e[be]={key:t,debouncers:new Map};break}},zl=(e,t)=>{if(t.nodeType===pi){for(t=t.firstChild;t;t=t.nextSibling)zl(e,t);return}let r=t[be].key;r&&e[be].keyedChildren.set(r,new WeakRef(t))},Ya=(e,t)=>e[be].keyedChildren.get(t).deref(),Xa=e=>{let r=e.currentTarget[be].handlers.get(e.type);e.type==="submit"&&(e.detail??={},e.detail.formData=[...new FormData(e.target).entries()]),r(e)},b_=(e,t=[])=>{let r={};(e.type==="input"||e.type==="change")&&t.push("target.value"),e.type==="submit"&&t.push("detail.formData");for(let n of t){let i=n.split(".");for(let s=0,o=e,a=r;s<i.length;s++){if(s===i.length-1){a[i[s]]=o[i[s]];break}a=a[i[s]]??={},o=o[i[s]]}}return r},Qa=e=>({added(t){t[e]=!0},removed(t){t[e]=!1}}),y_=e=>({added(t,r){t[e]=r}}),Za={checked:Qa("checked"),selected:Qa("selected"),value:y_("value"),autofocus:{added(e){queueMicrotask(()=>e.focus?.())}},autoplay:{added(e){try{e.play?.()}catch(t){console.error(t)}}}};var rc=e=>{let t=nc(e);if(t===null||t.children instanceof ct){let r=ec();return Ht(r),e.appendChild(r),ic()}else{if(t.children instanceof Fe&&t.children.tail instanceof ct)return t.children.head;{let r=ec();return Ht(r),e.insertBefore(r,e.firstChild),Tl(t.children)}}},ec=()=>dt.createTextNode(""),nc=e=>{switch(e.nodeType){case es:{let t=e.getAttribute("data-lustre-key");Ht(e,t),t&&e.removeAttribute("data-lustre-key");let r=e.localName,n=e.namespaceURI,i=!n||n===Zi;i&&v_.includes(r)&&k_(r,e);let s=j_(e),o=tc(e),a=i?de(r,s,o):Zr(n,r,s,o);return t?cl(t,a):a}case ts:return Ht(e),gr(e.data);case pi:return Ht(e),e.childNodes.length>0?Tl(tc(e)):null;default:return null}},v_=["input","select","textarea"],k_=(e,t)=>{let r=t.value,n=t.checked;e==="input"&&t.type==="checkbox"&&!n||e==="input"&&t.type==="radio"&&!n||t.type!=="checkbox"&&t.type!=="radio"&&!r||queueMicrotask(()=>{t.value=r,t.checked=n,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),dt.activeElement!==t&&t.dispatchEvent(new Event("blur",{bubbles:!0}))})},tc=e=>{let t=U,r=e.lastChild;for(;r;){let n=nc(r),i=r.previousSibling;n?t=new Fe(n,t):e.removeChild(r),r=i}return t},j_=e=>{let t=e.attributes.length,r=U;for(;t-- >0;)r=new Fe(S_(e.attributes[t]),r);return r},S_=e=>{let t=e.localName,r=e.value;return g(t,r)};var ki=()=>!!dt;var Cl=(e,t)=>e===t;var vi=class{constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#u=s,this.#a=new xs(this.root,(o,a,u)=>{let[c,f]=gs(this.#o,a,u,o);this.#o=c,f.isOk()&&this.dispatch(f[0],!1)}),this.#r=rc(this.root),this.#o=Ml(),this.#i=!0,this.#p(n)}root=null;set offset(t){this.#a.offset=t}dispatch(t,r=!1){if(this.#i||=r,this.#f)this.#d.push(t);else{let[n,i]=this.#u(this.#e,t);this.#e=n,this.#p(i)}}emit(t,r){(this.root.host??this.root).dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0}))}#e;#s;#u;#r;#o;#a;#f=!1;#d=[];#t=U;#n=U;#c=null;#i=!1;#_={dispatch:(t,r)=>this.dispatch(t,r),emit:(t,r)=>this.emit(t,r),select:()=>{},root:()=>this.root};#p(t){for(this.#f=!0;;){for(let r=t.synchronous;r.tail;r=r.tail)r.head(this.#_);if(this.#t=oc(this.#t,t.before_paint),this.#n=oc(this.#n,t.after_paint),!this.#d.length)break;[this.#e,t]=this.#u(this.#e,this.#d.shift())}this.#f=!1,this.#i?(cancelAnimationFrame(this.#c),this.#l()):this.#c||(this.#c=requestAnimationFrame(()=>{this.#l()}))}#l(){this.#i=!1,this.#c=null;let t=this.#s(this.#e),{patch:r,events:n}=El(this.#o,this.#r,t);if(this.#o=n,this.#r=t,this.#a.push(r),this.#t instanceof Fe){let i=sc(this.#t);this.#t=U,queueMicrotask(()=>{this.#i=!0,this.#p(i)})}if(this.#n instanceof Fe){let i=sc(this.#n);this.#n=U,requestAnimationFrame(()=>{this.#i=!0,this.#p(i)})}}};function sc(e){return{synchronous:e,after_paint:U,before_paint:U}}function oc(e,t){return e instanceof ct?t:t instanceof ct?e:pe(e,t)}var At=class extends m{constructor(t,r,n){super(),this.handlers=t,this.dispatched_paths=r,this.next_dispatched_paths=n}};function Ml(){return new At(Xe(),U,U)}function Ha(e){return new At(e.handlers,e.next_dispatched_paths,U)}function cc(e,t,r){return Qo(e,il(t,r))}function ds(e,t,r){let n=cc(e.handlers,t,r),i=e;return new At(n,i.dispatched_paths,i.next_dispatched_paths)}function lc(e,t,r){return Z(r,e,(n,i)=>{if(i instanceof Ce){let s=i.name;return cc(n,t,s)}else return n})}function gs(e,t,r,n){let i=w(t,e.next_dispatched_paths),s,o=e;s=new At(o.handlers,o.dispatched_paths,i);let a=s,u=Qr(a.handlers,t+nl+r);if(u.isOk()){let c=u[0];return[a,nr(n,c)]}else return[a,new O(l([]))]}function _s(e,t){return Ca(t,e.dispatched_paths)}function pc(e,t,r,n,i){return $i(e,il(r,n),Hi(i,t))}function gi(e,t,r,n,i){let s=pc(e.handlers,t,r,n,i),o=e;return new At(s,o.dispatched_paths,o.next_dispatched_paths)}function uc(e,t,r,n){return Z(n,e,(i,s)=>{if(s instanceof Ce){let o=s.name,a=s.handler;return pc(i,t,r,o,a)}else return i})}function or(e,t){let r=Cl(e,Ge),n=Cl(t,Ge);return n?e:r&&!n?t:i=>e(t(i))}function ac(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(a.hasLength(0))return i;{let u=a.head,c=a.tail;e=fc(i,s,o,u),t=s,r=o+Qe(u),n=c}}}function fc(e,t,r,n){if(n instanceof lt){let i=n.attributes,s=n.children,o=sr(t,r,n.key),u=lc(e,o,i);return ac(u,o,0,s)}else if(n instanceof Pe){let i=n.children;return ac(e,t,r+1,i)}else if(n instanceof $t){let i=n.attributes,s=sr(t,r,n.key);return lc(e,s,i)}else return e}function wi(e,t,r,n){let i=fc(e.handlers,t,r,n),s=e;return new At(i,s.dispatched_paths,s.next_dispatched_paths)}function Bl(e,t,r,n,i){for(;;){let s=e,o=t,a=r,u=n,c=i;if(c.hasLength(0))return s;{let f=c.head,p=c.tail;e=dc(s,o,a,u,f),t=o,r=a,n=u+Qe(f),i=p}}}function dc(e,t,r,n,i){if(i instanceof lt){let s=i.attributes,o=i.children,a=sr(r,n,i.key),u=or(t,i.mapper),f=uc(e,u,a,s);return Bl(f,u,a,0,o)}else if(i instanceof Pe){let s=i.children,o=or(t,i.mapper),a=n+1;return Bl(e,o,r,a,s)}else if(i instanceof $t){let s=i.attributes,o=sr(r,n,i.key),a=or(t,i.mapper);return uc(e,a,o,s)}else return e}function ms(e,t,r,n,i){let s=dc(e.handlers,t,r,n,i),o=e;return new At(s,o.dispatched_paths,o.next_dispatched_paths)}function Ga(e,t,r,n,i){let s=Bl(e.handlers,t,r,n,i),o=e;return new At(s,o.dispatched_paths,o.next_dispatched_paths)}function de(e,t,r){return ll("",Ge,"",e,t,r,Xe(),!1,!1)}function Zr(e,t,r,n){return ll("",Ge,e,t,r,n,Xe(),!1,!1)}function gr(e){return al("",Ge,e)}function ic(){return al("",Ge,"")}function O_(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;if(r.atLeastLength(1)&&r.head instanceof Pe){let i=r.head.children_count;e=r.tail,t=n+i}else e=r.tail,t=n+1}}function Tl(e){return Ba("",Ge,e,Xe(),O_(e,0))}function q(e){return gr(e)}function ql(e,t){return de("aside",e,t)}function ws(e,t){return de("h2",e,t)}function wr(e,t){return de("h3",e,t)}function bs(e,t){return de("section",e,t)}function T(e,t){return de("div",e,t)}function ji(e,t){return de("li",e,t)}function Nl(e,t){return de("p",e,t)}function Il(e,t){return de("ul",e,t)}function mc(e,t){return de("a",e,t)}function hc(e){return de("br",e,U)}function K(e,t){return de("span",e,t)}function De(e,t){return de("button",e,t)}function Gt(e){return de("input",e,U)}function ys(e,t){return de("label",e,t)}function Pl(e,t){return de("option",e,l([gr(t)]))}function $c(e,t){return de("select",e,t)}var br=class extends m{constructor(t){super(),this.message=t}},en=class extends m{constructor(t,r){super(),this.name=t,this.data=r}};var yr=class extends m{};var Dl=class extends m{constructor(t,r,n,i,s,o,a,u){super(),this.open_shadow_root=t,this.adopt_styles=r,this.attributes=n,this.properties=i,this.is_form_associated=s,this.on_form_autofill=o,this.on_form_reset=a,this.on_form_restore=u}};function gc(e){let t=new Dl(!1,!0,Qi(),Qi(),!1,rs,rs,rs);return Z(e,t,(r,n)=>n.apply(r))}var Ul=class e{static start({init:t,update:r,view:n},i,s){if(!ki())return new O(new tn);let o=i instanceof HTMLElement?i:dt.querySelector(i);return o?new k(new e(o,t(s),r,n)):new O(new vs(i))}#e;constructor(t,[r,n],i,s){this.#e=new vi(t,[r,n],s,i)}send(t){switch(t.constructor){case br:{this.dispatch(t.message,!1);break}case en:{this.emit(t.name,t.data);break}case yr:break}}dispatch(t,r){this.#e.dispatch(t,r)}emit(t,r){this.#e.emit(t,r)}},wc=Ul.start;var Fl=class extends m{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.config=i}};var vs=class extends m{constructor(t){super(),this.selector=t}},tn=class extends m{};function bc(e,t,r){return new Fl(e,t,r,gc(U))}function yc(e,t,r){return ft(!ki(),new O(new tn),()=>wc(e,t,r))}var ur=class extends m{constructor(t,r,n,i,s){super(),this.name=t,this.stations=r,this.system=n,this.region=i,this.contraband=s}},Me=class extends m{constructor(t,r){super(),this.name=t,this.holds=r}},Ze=class extends m{constructor(t,r,n){super(),this.name=t,this.kind=r,this.capacity=n}},ut=class extends m{},js=class extends m{};function Ss(e){return e instanceof ut?"Generic":"Infrastructure"}function vc(){return l([new ut,new js])}function Os(e){let t=(()=>{let n=Ae(e);return Hr(n)})();return t==="generic"?new k(new ut):t==="infrastructure"?new k(new js):new O(void 0)}var C_=l([3713,3721,17796]),M_=l([12478,3727]),B_=l([]),q_=l([]),N_=l([]),I_=l([]),kc=l([["JITA",new ur("Jita",l([60003760]),30000142,10000002,C_)],["AMARR",new ur("Amarr",l([60008494]),30002187,10000043,M_)],["RENS",new ur("Rens",l([60004588]),30002510,10000030,B_)],["HEK",new ur("Hek",l([60005686]),30002053,10000042,q_)],["DODI",new ur("Dodi",l([60003760]),30000142,10000032,N_)],["THERA",new ur("Thera",l([60015148,60015149,60015150,60015151]),31000005,11000031,I_)]]);var rn=class extends m{constructor(t,r,n,i,s,o,a,u,c,f,p){super(),this.duration=t,this.issued=r,this.location_id=n,this.min_volume=i,this.order_id=s,this.price=o,this.range=a,this.system_id=u,this.type_id=c,this.volume_remain=f,this.volume_total=p}},Wl=class extends m{constructor(t,r,n){super(),this.type_id=t,this.volume=r,this.name=n}};function jc(e,t){return e.location_id===t.location_id&&e.price===t.price&&e.type_id===t.type_id&&e.system_id===t.system_id?new k((()=>{let n=e;return new rn(n.duration,n.issued,n.location_id,n.min_volume,n.order_id,n.price,n.range,n.system_id,n.type_id,e.volume_remain+t.volume_remain,e.volume_total+t.volume_total)})()):new O(void 0)}function Rl(e,t){let r=e;return new rn(r.duration,r.issued,r.location_id,r.min_volume,r.order_id,r.price,r.range,r.system_id,r.type_id,e.volume_remain-t,r.volume_total)}function P_(){return ee("duration",fe,e=>ee("is_buy_order",Gi,t=>Bo(!t,()=>{throw z("panic","config/esi",100,"","found a sell order, should be a buy order",{})},()=>ee("issued",jt,r=>ee("location_id",fe,n=>ee("min_volume",fe,i=>ee("order_id",fe,s=>ee("price",Vi,o=>ee("range",jt,a=>ee("system_id",fe,u=>ee("type_id",fe,c=>ee("volume_remain",fe,f=>ee("volume_total",fe,p=>Ft(new rn(e,r,n,i,s,o,a,u,c,f,p)))))))))))))))}function Sc(){return ai(P_())}function D_(){return ee("duration",fe,e=>ee("is_buy_order",Gi,t=>Bo(t,()=>{throw z("panic","config/esi",131,"","found a buy order, should be a sell order",{})},()=>ee("issued",jt,r=>ee("location_id",fe,n=>ee("min_volume",fe,i=>ee("order_id",fe,s=>ee("price",Vi,o=>ee("range",jt,a=>ee("system_id",fe,u=>ee("type_id",fe,c=>ee("volume_remain",fe,f=>ee("volume_total",fe,p=>Ft(new rn(e,r,n,i,s,o,a,u,c,f,p)))))))))))))))}function Oc(){return ai(D_())}function Lc(){return ee("type_id",fe,e=>ee("volume",Vi,t=>ee("name",jt,r=>Ft(new Wl(e,t,r)))))}var Ec="https://esi.evetech.net/latest",U_="/markets/{region_id}/orders/?datasource=tranquility&order_type={order_kind}&page={page}";function Hl(e,t,r){let n;t?n="buy":n="sell";let i=n,s=l([Ec,U_]),o=Ke(s),a=Rr(o,"{region_id}",B(e.region)),u=Rr(a,"{order_kind}",i);return Rr(u,"{page}",B(r))}var F_="/universe/types/{type_id}?datasource=tranquility";function Ac(e){return Ec+Rr(F_,"{type_id}",B(e))}function Tc(e,t){for(;;){let r=e,n=t,i=Bt(n,1e3);if(i>0){let s=i,o=","+(()=>{let a=B(Mt(n,1e3));return mo(a,3,"0")})();e=w(o,r),t=s}else{let s=w(B(n),r);return Y(s)}}}function vr(e){let t=Qn(e),r=Tc(l([]),t),n=Y(r);return Ke(n)}function Cc(e){let t=Tc(l([]),e),r;if(t.hasLength(0))throw z("panic","util/numbers",42,"millions_to_unit_string","shouldnt be able to find an empty value",{});if(t.hasLength(1))r=[t.head,"M"];else{let o=t.tail;r=[(()=>{let u=Y(o);return Ke(u)})(),"B"]}let n=r,i=n[0],s=n[1];return i+" "+s}function W_(e){let t=W(e,r=>B(r)+",");return Ke(t)}function R_(e){let r=ti(e,1),n=dr(r,","),i=W(n,Ee);return si(i)}function Mc(e){return rr(e,"",(t,r,n)=>t+B(r)+":"+W_(n)+";")}function Bc(e){return ft(fo(e),new k(It(l([]))),()=>{let t,n=ti(e,1);t=dr(n,";");let s=W(t,a=>{let u=dr(a,":");if(!u.hasLength(2))throw z("let_assert","util/numbers",79,"","Pattern match failed, no pattern matched the value.",{value:u});let c=u.head,f=u.tail.head;return ze(Ee(c),p=>ft(fo(f),new k([p,l([])]),()=>Re(R_(f),d=>[p,d])))}),o=si(s);return Re(o,It)})}function Oi(e){let t=Bt(e,1e3);return t>10?B(t)+"k":B(e)}var Gl=class extends m{constructor(t,r,n){super(),this.id=t,this.name=r,this.m3=n}},Vl=class extends m{constructor(t,r,n,i,s,o,a,u,c){super(),this.source=t,this.destination=r,this.item=n,this.amount=i,this.total_volume=s,this.unit_buy_price=o,this.unit_sell_price=a,this.total_price=u,this.profit_per_volume=c}},nn=class extends m{constructor(t,r,n,i,s,o,a){super(),this.source=t,this.destination=r,this.item=n,this.amount=i,this.unit_buy_price=s,this.unit_sell_price=o,this.unit_profit=a}},Jl=class extends m{constructor(t,r,n){super(),this.purchases=t,this.total_price=r,this.total_profit=n}},Kl=class extends m{constructor(t,r,n,i,s){super(),this.item_name=t,this.amount=r,this.unit_price=n,this.total_price=i,this.total_profit=s}};function H_(e,t,r){let n=e.capacity,i=Z(r,[l([]),l([]),t,n],(u,c)=>{let f=u[0],p=u[1],d=u[2],_=u[3];return c.total_volume<=_&&c.total_price<=d?[w(c,f),p,d-c.total_price,_-c.total_volume]:[f,w(c,p),d,_]}),s=i[0],o=i[1],a=i[2];return[s,o,a]}function G_(e){return new Kl(e.item.name,e.amount,e.unit_sell_price,e.unit_sell_price*(()=>{let t=e.amount;return t})(),(e.unit_buy_price-e.unit_sell_price)*(()=>{let t=e.amount;return t})())}function Nc(e,t){if(e.item===t.type_id){let n=new Vl(e.source,e.destination,new Gl(t.type_id,t.name,t.volume),e.amount,(()=>{let i=e.amount;return i})()*t.volume,e.unit_buy_price,e.unit_sell_price,e.unit_sell_price*(()=>{let i=e.amount;return i})(),et(e.unit_profit,t.volume));return new k(n)}else return new O(void 0)}function qc(e){let t=Z(e,We(),(r,n)=>{let i,s=N(r,n.type_id);if(!s.isOk())i=l([n]);else{let a=s[0];i=w(n,a)}let o=i;return H(r,n.type_id,o)});return Te(t,(r,n)=>{let i=Xt(n,(s,o)=>Br(s.price,o.price));return Z(i,l([]),(s,o)=>ft(Dr(s),l([o]),()=>{if(!s.atLeastLength(1))throw z("let_assert","arbitrage",214,"","Pattern match failed, no pattern matched the value.",{value:s});let a=s.head,u=s.tail,c=jc(a,o);if(c.isOk()){let f=c[0];return w(f,u)}else return w(o,w(a,u))}))})}function Ls(e,t,r){return ft(Dr(e)||Dr(t),r,()=>{if(!e.atLeastLength(1))throw z("let_assert","arbitrage",273,"","Pattern match failed, no pattern matched the value.",{value:e});let n=e.head,i=e.tail;if(!t.atLeastLength(1))throw z("let_assert","arbitrage",274,"","Pattern match failed, no pattern matched the value.",{value:t});let s=t.head,o=t.tail,a=Ir(n.volume_remain,s.volume_remain);if(a instanceof te){let u=new nn(n.location_id,s.location_id,n.type_id,n.volume_remain,s.price,n.price,s.price-n.price);return Ls(i,o,w(u,r))}else if(a instanceof le){let u=new nn(n.location_id,s.location_id,n.type_id,s.volume_remain,s.price,n.price,s.price-n.price),c=Rl(n,s.volume_remain);return Ls(w(c,i),o,w(u,r))}else{let u=new nn(n.location_id,s.location_id,n.type_id,n.volume_remain,s.price,n.price,s.price-n.price),c=Rl(s,n.volume_remain);return Ls(i,w(c,o),w(u,r))}})}function Ic(e,t,r){let n=qc(e),i=qc(t),s=Dt(n),o=Dt(i),a=Ur(s,p=>Zn(o,p)),u=W(a,p=>{let d=N(n,p);if(!d.isOk())throw z("let_assert","arbitrage",236,"","Pattern match failed, no pattern matched the value.",{value:d});let _=d[0],h=N(i,p);if(!h.isOk())throw z("let_assert","arbitrage",237,"","Pattern match failed, no pattern matched the value.",{value:h});let y=h[0],$=Xt(_,(v,E)=>Br(v.price,E.price)),S=Xt(y,(v,E)=>Br(E.price,v.price));return Ls($,S,l([]))}),c=bt(u),f=W(c,p=>{let d=p.unit_buy_price*r,_=p;return new nn(_.source,_.destination,_.item,_.amount,d,_.unit_sell_price,d-p.unit_sell_price)});return Ur(f,p=>p.unit_profit>0)}function V_(e){let t=Z(e,[0,0],(i,s)=>{let o=i[0],a=i[1];return[o+s.total_price,a+s.total_profit]}),r=t[0],n=t[1];return new Jl(e,r,n)}function J_(e){let t=Z(e,We(),(o,a)=>tr(o,a.item,u=>{let c=Nt(u,l([]));return Fr(c,a)})),r=Ne(t),n=Xt(r,(o,a)=>Ir(rt(a),rt(o))),i=lo(n),s=W(i,o=>W(o,G_));return W(s,V_)}function Pc(e,t,r){let n=Xt(e,(c,f)=>Br(f.profit_per_volume,c.profit_per_volume)),i,s=t*1e6;i=s;let o=i,u=Z(r,[l([]),n,o],(c,f)=>{let p=c[0],d=c[1],_=c[2],h=H_(f,_,d),y=h[0],$=h[1],S=h[2];return[pe(y,p),$,S]})[0];return J_(u)}function Dc(e){return e.purchases}function Yl(e){return e.total_price}function Uc(e){return e.total_profit}function Xl(e){return e.item_name+"	"+B(e.amount)+"	"+Je(e.unit_price)+"	"+Je(e.total_price)}function Fc(e){let t=W(e.purchases,n=>Xl(n)+`
`),r=Ke(t);return ti(r,1)}var K_=7.5,Y_=11;function sn(e){let t=e*Y_,r=1-et(t,100);return K_*r}function Rc(){let e=Date.now(),t=e%1e3,r=t*1e6;return[(e-t)/1e3,r]}var Ei=class extends m{constructor(t,r){super(),this.seconds=t,this.nanoseconds=r}};function em(e){let t=1e9,r=Mt(e.nanoseconds,t),n=e.nanoseconds-r,i=e.seconds+Bt(n,t);return r>=0?new Ei(i,r):new Ei(i-1,t+r)}function Ql(){let e=Rc(),t=e[0],r=e[1];return em(new Ei(t,r))}var V=class extends m{constructor(t,r,n,i,s,o,a){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=a}};function im(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function Tt(e,t){return new k((()=>{let r=t;return new V(r.scheme,r.userinfo,r.host,r.port,r.path,r.query,new j(e))})())}function sm(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s.startsWith("#")&&a===0){let u=s.slice(1);return Tt(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,p.host,p.port,p.path,new j(c),p.fragment),Tt(u,f)}else{if(s==="")return new k((()=>{let u=o;return new V(u.scheme,u.userinfo,u.host,u.port,u.path,new j(i),u.fragment)})());{let c=hr(s)[1];e=i,t=c,r=o,n=a+1}}}}function ar(e,t){return sm(e,e,t,0)}function om(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s.startsWith("?")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,p.host,p.port,c,p.query,p.fragment),ar(u,f)}else if(s.startsWith("#")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,p.host,p.port,c,p.query,p.fragment),Tt(u,f)}else{if(s==="")return new k((()=>{let u=o;return new V(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=hr(s)[1];e=i,t=c,r=o,n=a+1}}}}function ln(e,t){return om(e,e,t,0)}function zt(e,t,r){for(;;){let n=e,i=t,s=r;if(n.startsWith("0"))e=n.slice(1),t=i,r=s*10;else if(n.startsWith("1"))e=n.slice(1),t=i,r=s*10+1;else if(n.startsWith("2"))e=n.slice(1),t=i,r=s*10+2;else if(n.startsWith("3"))e=n.slice(1),t=i,r=s*10+3;else if(n.startsWith("4"))e=n.slice(1),t=i,r=s*10+4;else if(n.startsWith("5"))e=n.slice(1),t=i,r=s*10+5;else if(n.startsWith("6"))e=n.slice(1),t=i,r=s*10+6;else if(n.startsWith("7"))e=n.slice(1),t=i,r=s*10+7;else if(n.startsWith("8"))e=n.slice(1),t=i,r=s*10+8;else if(n.startsWith("9"))e=n.slice(1),t=i,r=s*10+9;else if(n.startsWith("?")){let o=n.slice(1),a,u=i;return a=new V(u.scheme,u.userinfo,u.host,new j(s),u.path,u.query,u.fragment),ar(o,a)}else if(n.startsWith("#")){let o=n.slice(1),a,u=i;return a=new V(u.scheme,u.userinfo,u.host,new j(s),u.path,u.query,u.fragment),Tt(o,a)}else if(n.startsWith("/")){let o,a=i;return o=new V(a.scheme,a.userinfo,a.host,new j(s),a.path,a.query,a.fragment),ln(n,o)}else return n===""?new k((()=>{let o=i;return new V(o.scheme,o.userinfo,o.host,new j(s),o.path,o.query,o.fragment)})()):new O(void 0)}}function As(e,t){if(e.startsWith(":0")){let r=e.slice(2);return zt(r,t,0)}else if(e.startsWith(":1")){let r=e.slice(2);return zt(r,t,1)}else if(e.startsWith(":2")){let r=e.slice(2);return zt(r,t,2)}else if(e.startsWith(":3")){let r=e.slice(2);return zt(r,t,3)}else if(e.startsWith(":4")){let r=e.slice(2);return zt(r,t,4)}else if(e.startsWith(":5")){let r=e.slice(2);return zt(r,t,5)}else if(e.startsWith(":6")){let r=e.slice(2);return zt(r,t,6)}else if(e.startsWith(":7")){let r=e.slice(2);return zt(r,t,7)}else if(e.startsWith(":8")){let r=e.slice(2);return zt(r,t,8)}else if(e.startsWith(":9")){let r=e.slice(2);return zt(r,t,9)}else{if(e.startsWith(":"))return new O(void 0);if(e.startsWith("?")){let r=e.slice(1);return ar(r,t)}else if(e.startsWith("#")){let r=e.slice(1);return Tt(r,t)}else return e.startsWith("/")?ln(e,t):e===""?new k(t):new O(void 0)}}function Hc(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s==="")return new k((()=>{let u=o;return new V(u.scheme,u.userinfo,new j(i),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=Le(i,0,a),c,f=o;return c=new V(f.scheme,f.userinfo,new j(u),f.port,f.path,f.query,f.fragment),As(s,c)}else if(s.startsWith("/")){let u=Le(i,0,a),c,f=o;return c=new V(f.scheme,f.userinfo,new j(u),f.port,f.path,f.query,f.fragment),ln(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,new j(c),p.port,p.path,p.query,p.fragment),ar(u,f)}else if(s.startsWith("#")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,new j(c),p.port,p.path,p.query,p.fragment),Tt(u,f)}else{let c=hr(s)[1];e=i,t=c,r=o,n=a+1}}}function lm(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s==="")return new k((()=>{let u=o;return new V(u.scheme,u.userinfo,new j(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]")&&a===0){let u=s.slice(1);return As(u,o)}else if(s.startsWith("]")){let u=s.slice(1),c=Le(i,0,a+1),f,p=o;return f=new V(p.scheme,p.userinfo,new j(c),p.port,p.path,p.query,p.fragment),As(u,f)}else{if(s.startsWith("/")&&a===0)return ln(s,o);if(s.startsWith("/")){let u=Le(i,0,a),c,f=o;return c=new V(f.scheme,f.userinfo,new j(u),f.port,f.path,f.query,f.fragment),ln(s,c)}else if(s.startsWith("?")&&a===0){let u=s.slice(1);return ar(u,o)}else if(s.startsWith("?")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,new j(c),p.port,p.path,p.query,p.fragment),ar(u,f)}else if(s.startsWith("#")&&a===0){let u=s.slice(1);return Tt(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,p.userinfo,new j(c),p.port,p.path,p.query,p.fragment),Tt(u,f)}else{let u=hr(s),c=u[0],f=u[1];if(im(c))e=i,t=f,r=o,n=a+1;else return Hc(i,i,o,0)}}}}function um(e,t){return lm(e,e,t,0)}function am(e,t){return Hc(e,e,t,0)}function on(e,t){if(e.startsWith("["))return um(e,t);if(e.startsWith(":")){let r,n=t;return r=new V(n.scheme,n.userinfo,new j(""),n.port,n.path,n.query,n.fragment),As(e,r)}else return e===""?new k((()=>{let r=t;return new V(r.scheme,r.userinfo,new j(""),r.port,r.path,r.query,r.fragment)})()):am(e,t)}function cm(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s.startsWith("@")&&a===0){let u=s.slice(1);return on(u,o)}else if(s.startsWith("@")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(p.scheme,new j(c),p.host,p.port,p.path,p.query,p.fragment),on(u,f)}else{if(s==="")return on(i,o);if(s.startsWith("/"))return on(i,o);if(s.startsWith("?"))return on(i,o);if(s.startsWith("#"))return on(i,o);{let c=hr(s)[1];e=i,t=c,r=o,n=a+1}}}}function pm(e,t){return cm(e,e,t,0)}function Zl(e,t){if(e==="//")return new k((()=>{let r=t;return new V(r.scheme,r.userinfo,new j(""),r.port,r.path,r.query,r.fragment)})());if(e.startsWith("//")){let r=e.slice(2);return pm(r,t)}else return ln(e,t)}function fm(e,t,r,n){for(;;){let i=e,s=t,o=r,a=n;if(s.startsWith("/")&&a===0)return Zl(s,o);if(s.startsWith("/")){let u=Le(i,0,a),c,f=o;return c=new V(new j(Ae(u)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Zl(s,c)}else if(s.startsWith("?")&&a===0){let u=s.slice(1);return ar(u,o)}else if(s.startsWith("?")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(new j(Ae(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),ar(u,f)}else if(s.startsWith("#")&&a===0){let u=s.slice(1);return Tt(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(new j(Ae(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Tt(u,f)}else{if(s.startsWith(":")&&a===0)return new O(void 0);if(s.startsWith(":")){let u=s.slice(1),c=Le(i,0,a),f,p=o;return f=new V(new j(Ae(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Zl(u,f)}else{if(s==="")return new k((()=>{let u=o;return new V(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=hr(s)[1];e=i,t=c,r=o,n=a+1}}}}}function Gc(e){let t,r=e.fragment;if(r instanceof j){let x=r[0];t=l(["#",x])}else t=l([]);let n=t,i,s=e.query;if(s instanceof j){let x=s[0];i=w("?",w(x,n))}else i=n;let o=i,a=w(e.path,o),u,c=e.host,f=ii(e.path,"/");if(c instanceof j&&!f&&c[0]!==""){let x=c[0];u=w("/",a)}else u=a;let p=u,d,_=e.host,h=e.port;if(_ instanceof j&&h instanceof j){let x=h[0];d=w(":",w(B(x),p))}else d=p;let y=d,$,S=e.scheme,v=e.userinfo,E=e.host;if(S instanceof j&&v instanceof j&&E instanceof j){let x=S[0],M=v[0],L=E[0];$=w(x,w("://",w(M,w("@",w(L,y)))))}else if(S instanceof j&&v instanceof C&&E instanceof j){let x=S[0],M=E[0];$=w(x,w("://",w(M,y)))}else if(S instanceof j&&v instanceof j&&E instanceof C){let x=S[0];$=w(x,w(":",y))}else if(S instanceof j&&v instanceof C&&E instanceof C){let x=S[0];$=w(x,w(":",y))}else if(S instanceof C&&v instanceof C&&E instanceof j){let x=E[0];$=w("//",w(x,y))}else $=y;return Ke($)}var dm=new V(new C,new C,new C,new C,"",new C,new C);function eu(e){return fm(e,e,dm,0)}var Ai=class extends m{},zs=class extends m{},tu=class extends m{},ru=class extends m{},nu=class extends m{},iu=class extends m{},su=class extends m{},ou=class extends m{},lu=class extends m{};var Ts=class extends m{},zi=class extends m{};function Jc(e){return e instanceof su?"CONNECT":e instanceof nu?"DELETE":e instanceof Ai?"GET":e instanceof tu?"HEAD":e instanceof ou?"OPTIONS":e instanceof lu?"PATCH":e instanceof zs?"POST":e instanceof ru?"PUT":e instanceof iu?"TRACE":e[0]}function Kc(e){return e instanceof Ts?"http":"https"}function Yc(e){let t=Ae(e);return t==="http"?new k(new Ts):t==="https"?new k(new zi):new O(void 0)}var au=class extends m{constructor(t,r,n,i,s,o,a,u){super(),this.method=t,this.headers=r,this.body=n,this.scheme=i,this.host=s,this.port=o,this.path=a,this.query=u}};function Qc(e){return new V(new j(Kc(e.scheme)),new C,new j(e.host),e.port,e.path,e.query,new C)}function Zc(e){return Pt((()=>{let t=e.scheme,r=Nt(t,"");return Yc(r)})(),t=>Pt((()=>{let r=e.host;return Bi(r,void 0)})(),r=>{let n=new au(new Ai,l([]),"",t,r,e.port,e.path,e.query);return new k(n)}))}var kr=class extends m{constructor(t,r,n){super(),this.status=t,this.headers=r,this.body=n}};function ep(e,t){return Ni(e.headers,Ae(t))}var un=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function an(e){return Promise.resolve(un.wrap(e))}function Cs(e,t){return e.then(r=>t(un.unwrap(r)))}function Ti(e,t){return e.then(r=>un.wrap(t(un.unwrap(r))))}function rp(e,t){return Ti(e,n=>(t(n),n))}function Ms(e,t){return Cs(e,n=>{if(n.isOk()){let i=n[0];return t(i)}else{let i=n[0];return an(new O(i))}})}async function np(e){try{return new k(await fetch(e))}catch(t){return new O(new fn(t.toString()))}}function ip(e){return new kr(e.status,ce.fromArray([...e.headers]),e)}function xm(e){let t=Gc(Qc(e)),r=Jc(e.method).toUpperCase(),n={headers:gm(e.headers),method:r};return[t,n]}function sp(e){let[t,r]=xm(e);return r.method!=="GET"&&r.method!=="HEAD"&&(r.body=e.body),new globalThis.Request(t,r)}function gm(e){let t=new globalThis.Headers;for(let[r,n]of e)t.append(r.toLowerCase(),n);return t}async function pu(e){let t;try{t=await e.body.text()}catch{return new O(new dn)}return new k(e.withFields({body:t}))}var fn=class extends m{constructor(t){super(),this[0]=t}},dn=class extends m{};function op(e){let r=sp(e),n=np(r);return Ms(n,i=>an(new k(ip(i))))}var fu=e=>{if(!globalThis.location)return new O(void 0);let t=new URL(e,globalThis.location.href),r=bm(t);return new k(r)},bm=e=>{let t=r=>r?new j(r):new C;return new V(t(e.protocol?.slice(0,-1)),new C,t(e.hostname),t(e.port&&Number(e.port)),e.pathname,t(e.search?.slice(1)),t(e.hash?.slice(1)))};var Bs=class extends m{},qs=class extends m{constructor(t){super(),this[0]=t}},_n=class extends m{constructor(t){super(),this[0]=t}},du=class extends m{constructor(t){super(),this[0]=t}},_u=class extends m{},Ns=class extends m{constructor(t){super(),this[0]=t}},mu=class extends m{constructor(t){super(),this.run=t}};function ym(e){return new mu(t=>e(ze(t,r=>{let n=r.status;if(n>=200&&n<300){let i=n;return new k(r)}else if(n>=400&&n<600){let i=n;return new O(new _n(r))}else return new O(new Ns(r))})))}function vm(e){return ym(t=>e(ze(t,r=>{let n=ep(r,"content-type");return n.isOk()&&n[0]==="application/json"?new k(r):n.isOk()&&n[0].startsWith("application/json;")?new k(r):new O(new Ns(r))})))}function km(e,t){return mt(r=>{let n=op(e),i=Ms(n,pu),s=Ti(i,a=>_r(a,u=>u instanceof fn?new _u:u instanceof dn?new Bs:new Bs)),o=Ti(s,t.run);rp(o,r)})}function jm(e,t){return km(e,t)}function lp(e,t){return mt(r=>{let n=new O(e),i=t.run(n);return r(i)})}function Sm(e,t){let r=e.body,n=aa(r,t);return _r(n,i=>new du(i))}function Is(e,t){return vm(r=>{let i=Pt(r,s=>Sm(s,e));return t(i)})}function Om(e){let t;return e.startsWith("./")?t=fu(e):e.startsWith("/")?t=fu(e):t=eu(e),go(t,new qs(e))}function Ps(e,t){let r=Om(e);if(r.isOk()){let n=r[0],i=Zc(n),s=Re(i,a=>jm(a,t)),o=_r(s,a=>lp(new qs(e),t));return Fu(o)}else{let n=r[0];return lp(n,t)}}function Ci(){try{return globalThis.Storage&&globalThis.localStorage instanceof globalThis.Storage?new k(globalThis.localStorage):new O(null)}catch{return new O(null)}}function hu(e,t){return Lm(e.getItem(t))}function $u(e,t,r){try{return e.setItem(t,r),new k(null)}catch{return new O(null)}}function Lm(e){return e!==null?new k(e):new O(null)}function Ds(e,t){let r=new RegExp(t.replace(/\*/g,".*")),n=[];for(let i=0;i<e.length;i++){let s=e.key(i);r.test(s)&&n.push(s)}n.forEach(i=>e.removeItem(i))}var I=class extends m{constructor(t,r,n,i,s,o,a,u,c,f,p,d,_){super(),this.storage=t,this.ships=r,this.current_ship=n,this.count_ship_index=i,this.count_hold_index=s,this.systems=o,this.source=a,this.destination=u,this.accounting_level=c,this.language=f,this.sidebar_expanded=p,this.collateral=d,this.trades=_}},jr=class extends m{constructor(t){super(),this.raw_trade=t}},mn=class extends m{constructor(t){super(),this.trade=t}},hn=class extends m{constructor(t){super(),this.multibuy=t}},ye=class extends m{constructor(t,r){super(),this.ship=t,this.is_expanded=r}},Vt=class extends m{},Ct=class extends m{},cr=class extends m{constructor(t){super(),this[0]=t}},xt=class extends m{constructor(t,r,n,i,s){super(),this.location=t,this.buy_orders=r,this.buy_orders_status=n,this.sell_orders=i,this.sell_orders_status=s}},$n=class extends m{constructor(t){super(),this.new_source=t}},xn=class extends m{constructor(t){super(),this.new_destination=t}},Sr=class extends m{constructor(t){super(),this.source=t}},Or=class extends m{constructor(t){super(),this.destination=t}},gn=class extends m{constructor(t,r,n){super(),this[0]=t,this.location=r,this.page=n}},wn=class extends m{constructor(t,r,n){super(),this[0]=t,this.location=r,this.page=n}},bn=class extends m{constructor(t){super(),this[0]=t}},yn=class extends m{},vn=class extends m{constructor(t){super(),this.multibuy=t}},kn=class extends m{},jn=class extends m{},Lr=class extends m{constructor(t){super(),this.value=t}},Sn=class extends m{constructor(t){super(),this.level=t}},On=class extends m{},Ln=class extends m{constructor(t){super(),this.deleted_ship=t}},Er=class extends m{constructor(t){super(),this.ship_id=t}},En=class extends m{constructor(t){super(),this.id=t}},An=class extends m{constructor(t,r){super(),this.hold_id=t,this.ship_id=r}},zn=class extends m{constructor(t,r){super(),this.hold_id=t,this.ship_id=r}},Tn=class extends m{constructor(t,r,n){super(),this.kind=t,this.hold_id=r,this.ship_id=n}},Cn=class extends m{constructor(t){super(),this.ship_id=t}},Mn=class extends m{constructor(t,r){super(),this.hold_id=t,this.ship_id=r}},Bn=class extends m{constructor(t){super(),this.ship_id=t}},qn=class extends m{constructor(t){super(),this.ship_id=t}},Nn=class extends m{constructor(t){super(),this.storage=t}},In=class extends m{},Pn=class extends m{constructor(t,r){super(),this.storage_key=t,this.value=r}},Dn=class extends m{constructor(t){super(),this.storage_key=t}},Un=class extends m{constructor(t,r){super(),this.name=t,this.id=r}},Fn=class extends m{constructor(t,r,n){super(),this.name=t,this.ship_id=r,this.hold_id=n}},Wn=class extends m{constructor(t,r,n){super(),this.capacity=t,this.ship_id=r,this.hold_id=n}},Rn=class extends m{constructor(t,r,n){super(),this.kind=t,this.ship_id=r,this.hold_id=n}},Hn=class extends m{constructor(t){super(),this.collateral=t}},Gn=class extends m{constructor(t){super(),this.accounting_level=t}},Vn=class extends m{constructor(t){super(),this.hold_indices=t}},Us=class extends m{constructor(t){super(),this.selected_ship=t}};function cp(e,t){let r,n=Ee(e);return r=qt(n),t(r)}async function pp(e){try{return new k(await globalThis.navigator.clipboard.writeText(e))}catch(t){return new O(t.toString())}}function fp(e){return mt(t=>{Cs(pp(e),r=>an(void 0))})}function xu(e,t,r){let n=Is(Oc(),s=>new wn(s,t,r)),i=Hl(e,!1,r);return Ps(i,n)}function gu(e,t,r){let n=Is(Sc(),s=>new gn(s,t,r)),i=Hl(e,!0,r);return Ps(i,n)}function dp(e){let t=Is(Lc(),n=>new bn(n)),r=Ac(e);return Ps(r,t)}function mp(e,t){let r=Fc(t),n=fp(r);return He("Multibuy copied to clipboard"),[e,n]}function hp(e){return ft((()=>{let t=e.source;return ro(t)})()||(()=>{let t=e.destination;return ro(t)})(),[e,F()],()=>{let t=e.source;if(!(t instanceof j))throw z("let_assert","mvu/update/multibuys",36,"","Pattern match failed, no pattern matched the value.",{value:t});let r=t[0],n=e.destination;if(!(n instanceof j))throw z("let_assert","mvu/update/multibuys",37,"","Pattern match failed, no pattern matched the value.",{value:n});let i=n[0],s=N(e.systems,r);if(!s.isOk())throw z("let_assert","mvu/update/multibuys",38,"","Pattern match failed, no pattern matched the value.",{value:s});let o=s[0],a=N(e.systems,i);if(!a.isOk())throw z("let_assert","mvu/update/multibuys",39,"","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c=Ic(o.sell_orders,u.buy_orders,(()=>{let E=e.accounting_level;return sn(E)})()),f,p=e;f=new I(p.storage,p.ships,p.current_ship,p.count_ship_index,p.count_hold_index,p.systems,p.source,p.destination,p.accounting_level,p.language,p.sidebar_expanded,p.collateral,W(c,E=>new jr(E)));let d=f,_,y=W(c,E=>E.item),$=zu(y),S=W($,dp);return _=Lt(S),[d,_]})}function $p(e,t){if(t.isOk()){let r=t[0],n,i=e.trades;n=W(i,d=>{if(d instanceof jr){let _=d.raw_trade;if(_.item===r.type_id){let y=Nc(_,r),$=Re(y,S=>new mn(S));return Qt($,(()=>{let S=_;return new jr(S)})())}else{let y=_;return new jr(y)}}else return d});let s=n,o;if(Au(s,d=>d instanceof mn)){let d=e.current_ship;if(!(d instanceof j))throw z("let_assert","mvu/update/multibuys",95,"esi_returned_type_metadata","Pattern match failed, no pattern matched the value.",{value:d});let _=d[0],h=e.collateral;if(!(h instanceof j))throw z("let_assert","mvu/update/multibuys",96,"esi_returned_type_metadata","Pattern match failed, no pattern matched the value.",{value:h});let y=h[0],$=W(s,A=>{if(!(A instanceof mn))throw z("let_assert","mvu/update/multibuys",99,"","Pattern match failed, no pattern matched the value.",{value:A});return A.trade}),S=N(e.ships,_);if(!S.isOk())throw z("let_assert","mvu/update/multibuys",102,"esi_returned_type_metadata","Pattern match failed, no pattern matched the value.",{value:S});let v=S[0],E=Pc($,y,(()=>{let A=v.ship.holds;return Ne(A)})());o=W(E,A=>new hn(A))}else o=s;let u=o,c,f=e;return c=new I(f.storage,f.ships,f.current_ship,f.count_ship_index,f.count_hold_index,f.systems,f.source,f.destination,f.accounting_level,f.language,f.sidebar_expanded,f.collateral,u),[c,F()]}else{let r=t[0];return er(Gr(r)),[e,F()]}}function xp(){return mt(e=>{let t,r=Ci();if(!r.isOk())t=new In;else{let i=r[0];t=new Nn(i)}return e(t)})}function Fs(e){return"ships/"+B(e)}function gp(e,t){return mt(r=>Ds(e,Fs(t)+"*"))}function Ar(e,t){return Fs(e)+"/holds/"+B(t)}function wp(e,t,r){return mt(n=>Ds(e,Ar(t,r)+"*"))}function pr(e,t,r){return mt(n=>{if(!$u(e,t,r).isOk())return n(new Pn(t,r))})}function wu(e,t,r){return pr(e,Fs(t)+"/name",r)}function Ws(e,t,r,n){return pr(e,Ar(t,r)+"/name",n)}function Rs(e,t,r,n){return pr(e,Ar(t,r)+"/capacity",Je(n))}function Hs(e,t,r,n){return pr(e,Ar(t,r)+"/kind",Ss(n))}function bp(e,t){let r,n=qi(t,B);return r=Nt(n,""),pr(e,"collateral",r)}function yp(e,t){return pr(e,"accounting_level",B(t))}function Mi(e,t){return pr(e,"hold_indices",Mc(t))}function bu(e,t){let r,i=qi(t,B);return r=Nt(i,""),pr(e,"selected_ship",r)}function fr(e,t,r,n){return mt(i=>{let s=ze(hu(e,t),o=>r(o));if(s.isOk()){let o=s[0];return i(n(o))}else return i(new Dn(t))})}function vp(e,t){return fr(e,Fs(t)+"/name",r=>new k(r),r=>new Un(r,t))}function kp(e,t,r){return fr(e,Ar(t,r)+"/name",n=>new k(n),n=>new Fn(n,t,r))}function jp(e,t,r){return fr(e,Ar(t,r)+"/capacity",Nr,n=>new Wn(n,t,r))}function Sp(e,t,r){return fr(e,Ar(t,r)+"/kind",Os,n=>new Rn(n,t,r))}function Op(e){return fr(e,"collateral",t=>{let r=Ee(t),n=qt(r);return new k(n)},t=>new Hn(t))}function Lp(e){return fr(e,"accounting_level",Ee,t=>new Gn(t))}function Ep(e){return fr(e,"hold_indices",Bc,t=>new Vn(t))}function Ap(e){return fr(e,"selected_ship",t=>{let r=Ee(t),n=qt(r);return new k(n)},t=>new Us(t))}function Vs(e){let t=e.value;return t!=null?new k(t):new O}function Js(e){let t=document.getElementById(e);return t?new k(t):new O}function zp(e,t){let r,n=t;r=new I(n.storage,n.ships,new j(e),n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,n.accounting_level,n.language,n.sidebar_expanded,n.collateral,n.trades);let i=r,s,o=i.storage;if(o instanceof C)s=F();else{let u=o[0];s=bu(u,new j(e))}let a=s;return He("Ship #"+B(e)+" selected"),[i,a]}function Tp(e){let t=new ye(new Me("New Ship",(()=>{let c=l([[e.count_hold_index,new Ze("Cargo",new ut,1e3)]]);return It(c)})()),!0),r=H(e.ships,e.count_ship_index,t),n,i=e;n=new I(i.storage,r,i.current_ship,e.count_ship_index+1,e.count_hold_index+1,i.systems,i.source,i.destination,i.accounting_level,i.language,i.sidebar_expanded,i.collateral,i.trades);let s=n,o,a=s.storage;if(a instanceof C)o=F();else{let c=a[0];o=Lt(l([wu(c,s.count_ship_index-1,"New Ship"),Mi(c,(()=>{let f=s.ships;return Te(f,(p,d)=>{let _=d.ship.holds;return Dt(_)})})()),Ws(c,s.count_ship_index-1,s.count_hold_index-1,"Cargo"),Rs(c,s.count_ship_index-1,s.count_hold_index-1,1e3),Hs(c,s.count_ship_index-1,s.count_hold_index-1,new ut)]))}return[s,o]}function Cp(e,t){let r=Wi(e.ships,t),n,i=e.current_ship;if(i instanceof j&&i[0]===t){let d=i[0];n=new C}else n=i;let s=n,o,a=e;o=new I(a.storage,r,s,a.count_ship_index,a.count_hold_index,a.systems,a.source,a.destination,a.accounting_level,a.language,a.sidebar_expanded,a.collateral,a.trades);let u=o,c,f=u.storage;if(f instanceof C)c=F();else{let d=f[0];c=Lt(l([gp(d,t),Mi(d,(()=>{let _=u.ships;return Te(_,(h,y)=>{let $=y.ship.holds;return Dt($)})})()),bu(d,new C)]))}return[u,c]}function Mp(e,t,r,n){let i=Os(t);if(!i.isOk())throw z("let_assert","mvu/update/ships",217,"user_updated_ship_hold_kind","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=N(e.ships,n);if(!o.isOk())throw z("let_assert","mvu/update/ships",218,"user_updated_ship_hold_kind","Pattern match failed, no pattern matched the value.",{value:o});let a=o[0],u=a.ship,c=N(u.holds,r);if(!c.isOk())throw z("let_assert","mvu/update/ships",220,"user_updated_ship_hold_kind","Pattern match failed, no pattern matched the value.",{value:c});let f=c[0],p,d=f;p=new Ze(d.name,s,d.capacity);let _=p,h=H(u.holds,r,_),y,$=u;y=new Me($.name,h);let S=y,v,E=a;v=new ye(S,E.is_expanded);let A=v,x=H(e.ships,n,A),M,L=e;M=new I(L.storage,x,L.current_ship,L.count_ship_index,L.count_hold_index,L.systems,L.source,L.destination,L.accounting_level,L.language,L.sidebar_expanded,L.collateral,L.trades);let P=M,G,Q=P.storage;if(Q instanceof C)G=F();else{let R=Q[0];G=Hs(R,n,r,s)}return[P,G]}function Bp(e,t){let r=new Ze("New Hold",new ut,100),n=N(e.ships,t);if(!n.isOk())throw z("let_assert","mvu/update/ships",246,"user_added_hold_to_ship","Pattern match failed, no pattern matched the value.",{value:n});let i=n[0],s=i.ship,o=H(s.holds,e.count_hold_index,r),a,u=s;a=new Me(u.name,o);let c=a,f,p=i;f=new ye(c,p.is_expanded);let d=f,_=H(e.ships,t,d),h,y=e;h=new I(y.storage,_,y.current_ship,y.count_ship_index,e.count_hold_index+1,y.systems,y.source,y.destination,y.accounting_level,y.language,y.sidebar_expanded,y.collateral,y.trades);let $=h,S,v=$.storage;if(v instanceof C)S=F();else{let A=v[0];S=Lt(l([Mi(A,(()=>{let x=$.ships;return Te(x,(M,L)=>{let P=L.ship.holds;return Dt(P)})})()),Ws(A,t,$.count_hold_index-1,"New Hold"),Rs(A,t,$.count_hold_index-1,100),Hs(A,t,$.count_hold_index-1,new ut)]))}return[$,S]}function qp(e,t,r){let n=N(e.ships,r);if(!n.isOk())throw z("let_assert","mvu/update/ships",298,"user_deleted_hold_from_ship","Pattern match failed, no pattern matched the value.",{value:n});let i=n[0],s=Wi(i.ship.holds,t),o,a=i.ship;o=new Me(a.name,s);let u=o,c,f=i;c=new ye(u,f.is_expanded);let p=c,d=H(e.ships,r,p),_,h=e;_=new I(h.storage,d,h.current_ship,h.count_ship_index,h.count_hold_index,h.systems,h.source,h.destination,h.accounting_level,h.language,h.sidebar_expanded,h.collateral,h.trades);let y=_,$,S=y.storage;if(S instanceof C)$=F();else{let E=S[0];$=Lt(l([wp(E,r,t),Mi(E,(()=>{let A=y.ships;return Te(A,(x,M)=>{let L=M.ship.holds;return Dt(L)})})())]))}return[y,$]}function Np(e,t){let r=N(e.ships,t);if(!r.isOk())throw z("let_assert","mvu/update/ships",326,"user_collapsed_ship","Pattern match failed, no pattern matched the value.",{value:r});let n=r[0],i,s=n;i=new ye(s.ship,!1);let o=i,a=H(e.ships,t,o),u,c=e;return u=new I(c.storage,a,c.current_ship,c.count_ship_index,c.count_hold_index,c.systems,c.source,c.destination,c.accounting_level,c.language,c.sidebar_expanded,c.collateral,c.trades),[u,F()]}function Ip(e,t){let r=N(e.ships,t);if(!r.isOk())throw z("let_assert","mvu/update/ships",337,"user_expanded_ship","Pattern match failed, no pattern matched the value.",{value:r});let n=r[0],i,s=n;i=new ye(s.ship,!0);let o=i,a=H(e.ships,t,o),u,c=e;return u=new I(c.storage,a,c.current_ship,c.count_ship_index,c.count_hold_index,c.systems,c.source,c.destination,c.accounting_level,c.language,c.sidebar_expanded,c.collateral,c.trades),[u,F()]}function Pp(e,t){let r=Js(e),n=ze(r,o=>Vs(o)),i=Qt(n,t),s=Hr(i);return s===""?t:s}function Dp(e,t){let r="ship-name-"+B(t),n=N(e.ships,t);if(!n.isOk())throw z("let_assert","mvu/update/ships",129,"user_updated_ship_name","Pattern match failed, no pattern matched the value.",{value:n});let s=n[0].ship.name,o=Pp(r,s),a;{let d=N(e.ships,t);if(!d.isOk())throw z("let_assert","mvu/update/ships",136,"user_updated_ship_name","Pattern match failed, no pattern matched the value.",{value:d});let _=d[0],h=_.ship,y,$=h;y=new Me(o,$.holds);let S=y,v,E=_;v=new ye(S,E.is_expanded);let A=v,x=e;a=new I(x.storage,H(e.ships,t,A),x.current_ship,x.count_ship_index,x.count_hold_index,x.systems,x.source,x.destination,x.accounting_level,x.language,x.sidebar_expanded,x.collateral,x.trades)}let u=a,c,f=u.storage;if(f instanceof C)c=F();else{let d=f[0];c=wu(d,t,o)}return[u,c]}function Up(e,t,r){let n="hold-name-"+B(t),i=N(e.ships,r);if(!i.isOk())throw z("let_assert","mvu/update/ships",155,"user_updated_ship_hold_name","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=s.ship,a=N(o.holds,t);if(!a.isOk())throw z("let_assert","mvu/update/ships",157,"user_updated_ship_hold_name","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c=u.name,f=Pp(n,c),p,d=u;p=new Ze(f,d.kind,d.capacity);let _=p,h=H(o.holds,t,_),y,$=o;y=new Me($.name,h);let S=y,v,E=s;v=new ye(S,E.is_expanded);let A=v,x=H(e.ships,r,A),M,L=e;M=new I(L.storage,x,L.current_ship,L.count_ship_index,L.count_hold_index,L.systems,L.source,L.destination,L.accounting_level,L.language,L.sidebar_expanded,L.collateral,L.trades);let P=M,G,Q=P.storage;if(Q instanceof C)G=F();else{let R=Q[0];G=Ws(R,r,t,f)}return[P,G]}function Cm(e,t){let r=Js(e),n=ze(r,p=>Vs(p)),i=ze(n,Nr),s,o=ze(n,Ee);s=Re(o,se);let a=s,u;return u=Wu(i,a),Qt(u,t)}function Fp(e,t,r){let n="hold-capacity-"+B(t),i=N(e.ships,r);if(!i.isOk())throw z("let_assert","mvu/update/ships",182,"user_updated_ship_hold_capacity","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=s.ship,a=N(o.holds,t);if(!a.isOk())throw z("let_assert","mvu/update/ships",184,"user_updated_ship_hold_capacity","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c=u.capacity,f=Cm(n,c),p,d=u;p=new Ze(d.name,d.kind,f);let _=p,h=H(o.holds,t,_),y,$=o;y=new Me($.name,h);let S=y,v,E=s;v=new ye(S,E.is_expanded);let A=v,x=H(e.ships,r,A),M,L=e;M=new I(L.storage,x,L.current_ship,L.count_ship_index,L.count_hold_index,L.systems,L.source,L.destination,L.accounting_level,L.language,L.sidebar_expanded,L.collateral,L.trades);let P=M,G,Q=P.storage;if(Q instanceof C)G=F();else{let R=Q[0];G=Rs(R,r,t,f)}return[P,G]}function Wp(e){let t,r=e;return t=new I(r.storage,r.ships,r.current_ship,r.count_ship_index,r.count_hold_index,r.systems,r.source,r.destination,r.accounting_level,r.language,!1,r.collateral,r.trades),[t,F()]}function Rp(e){let t,r=e;return t=new I(r.storage,r.ships,r.current_ship,r.count_ship_index,r.count_hold_index,r.systems,r.source,r.destination,r.accounting_level,r.language,!0,r.collateral,r.trades),[t,F()]}function Hp(e,t){let r,n=e;r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,n.accounting_level,n.language,n.sidebar_expanded,t,n.trades);let i=r,s,o=i.storage;if(o instanceof C)s=F();else{let u=o[0];s=bp(u,t)}return[i,s]}function Gp(e,t){let r,n=e;r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,t,n.language,n.sidebar_expanded,n.collateral,n.trades);let i=r,s,o=i.storage;if(o instanceof C)s=F();else{let u=o[0];s=yp(u,t)}return[i,s]}function Ks(e){window.alert(e)}function Vp(e,t){let r,n=e;r=new I(new j(t),n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,n.accounting_level,n.language,n.sidebar_expanded,n.collateral,n.trades);let i=r,s=Lt(l([Op(t),Lp(t),Ep(t),Ap(t)]));return[i,s]}function Jp(e){return Ks(`Failed to load local storage
Check console log for more info`),[e,F()]}function Kp(e,t,r){return Ks('Failed to write storage key "'+t+'" with value "'+r+`"
Check console log for more info`),[e,F()]}function Yp(e,t){return er('Failed to read storage key "'+t+'"'),[e,F()]}function Xp(e,t,r){let n;{let s=N(e.ships,r);if(!s.isOk())throw z("let_assert","mvu/update/store",65,"store_read_ship_name","Pattern match failed, no pattern matched the value.",{value:s});let o=s[0],a=o.ship,u,c=a;u=new Me(t,c.holds);let f=u,p,d=o;p=new ye(f,d.is_expanded);let _=p,h=e;n=new I(h.storage,H(e.ships,r,_),h.current_ship,h.count_ship_index,h.count_hold_index,h.systems,h.source,h.destination,h.accounting_level,h.language,h.sidebar_expanded,h.collateral,h.trades)}return[n,F()]}function Qp(e,t){let r,n=e;return r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,t,n.language,n.sidebar_expanded,n.collateral,n.trades),[r,F()]}function Zp(e,t){let r,n=e;return r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,n.accounting_level,n.language,n.sidebar_expanded,t,n.trades),[r,F()]}function ef(e,t,r,n){let i=N(e.ships,r);if(!i.isOk())throw z("let_assert","mvu/update/store",96,"store_read_hold_capacity","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=s.ship,a=N(o.holds,n);if(!a.isOk())throw z("let_assert","mvu/update/store",98,"store_read_hold_capacity","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c,f=u;c=new Ze(f.name,f.kind,t);let p=c,d=H(o.holds,n,p),_,h=o;_=new Me(h.name,d);let y=_,$,S=s;$=new ye(y,S.is_expanded);let v=$,E=H(e.ships,r,v),A,x=e;return A=new I(x.storage,E,x.current_ship,x.count_ship_index,x.count_hold_index,x.systems,x.source,x.destination,x.accounting_level,x.language,x.sidebar_expanded,x.collateral,x.trades),[A,F()]}function tf(e,t){let r=e.storage;if(r instanceof j){let n=r[0],i=Te(t,(_,h)=>{let y,$=W(h,E=>[E,new Ze("New Hold",new ut,100)]);y=It($);let S=y,v=new Me("New Ship",S);return new ye(v,!1)}),s,o=e;s=new I(o.storage,i,o.current_ship,o.count_ship_index,o.count_hold_index,o.systems,o.source,o.destination,o.accounting_level,o.language,o.sidebar_expanded,o.collateral,o.trades);let a=s,u,c=Te(t,(_,h)=>{let y=l([vp(n,_)]);return Z(h,y,($,S)=>w(kp(n,_,S),w(jp(n,_,S),w(Sp(n,_,S),$))))}),f=Ne(c),p=bt(f);return u=Lt(p),[a,u]}else return[e,F()]}function rf(e,t,r,n){let i=N(e.ships,r);if(!i.isOk())throw z("let_assert","mvu/update/store",158,"store_read_hold_kind","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=s.ship,a=N(o.holds,n);if(!a.isOk())throw z("let_assert","mvu/update/store",160,"store_read_hold_kind","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c,f=u;c=new Ze(f.name,t,f.capacity);let p=c,d=H(o.holds,n,p),_,h=o;_=new Me(h.name,d);let y=_,$,S=s;$=new ye(y,S.is_expanded);let v=$,E=H(e.ships,r,v),A,x=e;return A=new I(x.storage,E,x.current_ship,x.count_ship_index,x.count_hold_index,x.systems,x.source,x.destination,x.accounting_level,x.language,x.sidebar_expanded,x.collateral,x.trades),[A,F()]}function nf(e,t,r,n){let i=N(e.ships,r);if(!i.isOk())throw z("let_assert","mvu/update/store",176,"store_read_hold_name","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0],o=s.ship,a=N(o.holds,n);if(!a.isOk())throw z("let_assert","mvu/update/store",178,"store_read_hold_name","Pattern match failed, no pattern matched the value.",{value:a});let u=a[0],c,f=u;c=new Ze(t,f.kind,f.capacity);let p=c,d=H(o.holds,n,p),_,h=o;_=new Me(h.name,d);let y=_,$,S=s;$=new ye(y,S.is_expanded);let v=$,E=H(e.ships,r,v),A,x=e;return A=new I(x.storage,E,x.current_ship,x.count_ship_index,x.count_hold_index,x.systems,x.source,x.destination,x.accounting_level,x.language,x.sidebar_expanded,x.collateral,x.trades),[A,F()]}function sf(e,t){let r,n=e;return r=new I(n.storage,n.ships,t,n.count_ship_index,n.count_hold_index,n.systems,n.source,n.destination,n.accounting_level,n.language,n.sidebar_expanded,n.collateral,n.trades),[r,F()]}function of(e,t){let r,n=t;r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,new j(e),n.destination,n.accounting_level,n.language,n.sidebar_expanded,n.collateral,n.trades);let i=r,s=F();return He("Source "+e+" selected"),[i,s]}function lf(e,t){let r,n=t;r=new I(n.storage,n.ships,n.current_ship,n.count_ship_index,n.count_hold_index,n.systems,n.source,new j(e),n.accounting_level,n.language,n.sidebar_expanded,n.collateral,n.trades);let i=r,s=F();return He("Destination "+e+" selected"),[i,s]}function uf(e,t,r,n){if(!t.isOk()&&t[0]instanceof _n&&t[0][0]instanceof kr&&t[0][0].status===404&&t[0][0].body==='{"error":"Requested page does not exist!"}'){He("Reached sell orders last page for location "+r);let i=N(e.systems,r);if(!i.isOk())throw z("let_assert","mvu/update/systems",48,"esi_returned_sell_orders","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0];He((()=>{let y=s.sell_orders,$=rt(y);return B($)})()+" sell orders found");let o=N(e.systems,r);if(!o.isOk())throw z("let_assert","mvu/update/systems",54,"esi_returned_sell_orders","Pattern match failed, no pattern matched the value.",{value:o});let a=o[0],u,c=a;u=new xt(c.location,c.buy_orders,c.buy_orders_status,c.sell_orders,new cr(Ql()));let f=u,p=tr(e.systems,r,y=>(Mr(y,()=>{throw z("panic","mvu/update/systems",64,"","system "+r+" should be present",{})}),f)),d,_=e;return d=new I(_.storage,_.ships,_.current_ship,_.count_ship_index,_.count_hold_index,p,_.source,_.destination,_.accounting_level,_.language,_.sidebar_expanded,_.collateral,_.trades),[d,F()]}else if(t.isOk()){let i=t[0],s=N(e.systems,r);if(!s.isOk())throw z("let_assert","mvu/update/systems",76,"esi_returned_sell_orders","Pattern match failed, no pattern matched the value.",{value:s});let o=s[0],a=Ur(i,p=>Zn(o.location.stations,p.location_id)),u=H(e.systems,r,(()=>{let p=o;return new xt(p.location,p.buy_orders,p.buy_orders_status,(()=>{let d=o.sell_orders;return pe(d,a)})(),p.sell_orders_status)})()),c=N(e.systems,r);if(!c.isOk())throw z("let_assert","mvu/update/systems",90,"esi_returned_sell_orders","Pattern match failed, no pattern matched the value.",{value:c});let f=c[0];return He("Fetched "+r+" sell orders page "+B(n)),[(()=>{let p=e;return new I(p.storage,p.ships,p.current_ship,p.count_ship_index,p.count_hold_index,u,p.source,p.destination,p.accounting_level,p.language,p.sidebar_expanded,p.collateral,p.trades)})(),xu(f.location,r,n+1)]}else{let i=t[0];return er(Gr(i)),[e,F()]}}function af(e,t,r,n){if(!t.isOk()&&t[0]instanceof _n&&t[0][0]instanceof kr&&t[0][0].status===404&&t[0][0].body==='{"error":"Requested page does not exist!"}'){He("Reached buy orders last page for location "+r);let i=N(e.systems,r);if(!i.isOk())throw z("let_assert","mvu/update/systems",119,"esi_returned_buy_orders","Pattern match failed, no pattern matched the value.",{value:i});let s=i[0];He((()=>{let y=s.buy_orders,$=rt(y);return B($)})()+" buy orders found");let o=N(e.systems,r);if(!o.isOk())throw z("let_assert","mvu/update/systems",123,"esi_returned_buy_orders","Pattern match failed, no pattern matched the value.",{value:o});let a=o[0],u,c=a;u=new xt(c.location,c.buy_orders,new cr(Ql()),c.sell_orders,c.sell_orders_status);let f=u,p=tr(e.systems,r,y=>(Mr(y,()=>{throw z("panic","mvu/update/systems",133,"","system "+r+" should be present",{})}),f)),d,_=e;return d=new I(_.storage,_.ships,_.current_ship,_.count_ship_index,_.count_hold_index,p,_.source,_.destination,_.accounting_level,_.language,_.sidebar_expanded,_.collateral,_.trades),[d,F()]}else if(t.isOk()){let i=t[0],s=tr(e.systems,r,u=>{let c=Mr(u,()=>{throw z("panic","mvu/update/systems",149,"","system "+r+" should be present",{})}),f=c;return new xt(f.location,(()=>{let p=c.buy_orders;return pe(p,i)})(),f.buy_orders_status,f.sell_orders,f.sell_orders_status)}),o=N(e.systems,r);if(!o.isOk())throw z("let_assert","mvu/update/systems",156,"esi_returned_buy_orders","Pattern match failed, no pattern matched the value.",{value:o});let a=o[0];return He("Fetched "+r+" buy orders page "+B(n)),[(()=>{let u=e;return new I(u.storage,u.ships,u.current_ship,u.count_ship_index,u.count_hold_index,s,u.source,u.destination,u.accounting_level,u.language,u.sidebar_expanded,u.collateral,u.trades)})(),gu(a.location,r,n+1)]}else{let i=t[0];return er(Gr(i)),[e,F()]}}function cf(e,t){let r=N(e.systems,t);if(!r.isOk())throw z("let_assert","mvu/update/systems",176,"user_loaded_source","Pattern match failed, no pattern matched the value.",{value:r});let n=r[0],i=xu(n.location,t,1),s,o=n;s=new xt(o.location,o.buy_orders,o.buy_orders_status,l([]),new Ct);let a=s,u=tr(e.systems,t,d=>(Mr(d,()=>{throw z("panic","mvu/update/systems",184,"","did not find system "+t,{})}),a)),c,f=e.source;if(f instanceof j&&f[0]===t){let d=f[0],_=e;c=new I(_.storage,_.ships,_.current_ship,_.count_ship_index,_.count_hold_index,_.systems,new C,_.destination,_.accounting_level,_.language,_.sidebar_expanded,_.collateral,_.trades)}else c=e;let p=c;return[(()=>{let d=p;return new I(d.storage,d.ships,d.current_ship,d.count_ship_index,d.count_hold_index,u,d.source,d.destination,d.accounting_level,d.language,d.sidebar_expanded,d.collateral,d.trades)})(),i]}function pf(e,t){let r=N(e.systems,t);if(!r.isOk())throw z("let_assert","mvu/update/systems",200,"user_loaded_destination","Pattern match failed, no pattern matched the value.",{value:r});let n=r[0],i=gu(n.location,t,1),s,o=n;s=new xt(o.location,l([]),new Ct,o.sell_orders,o.sell_orders_status);let a=s,u=tr(e.systems,t,d=>(Mr(d,()=>{throw z("panic","mvu/update/systems",208,"","did not find system "+t,{})}),a)),c,f=e.destination;if(f instanceof j&&f[0]===t){let d=f[0],_=e;c=new I(_.storage,_.ships,_.current_ship,_.count_ship_index,_.count_hold_index,_.systems,_.source,new C,_.accounting_level,_.language,_.sidebar_expanded,_.collateral,_.trades)}else c=e;let p=c;return[(()=>{let d=p;return new I(d.storage,d.ships,d.current_ship,d.count_ship_index,d.count_hold_index,u,d.source,d.destination,d.accounting_level,d.language,d.sidebar_expanded,d.collateral,d.trades)})(),i]}function ff(e,t){if(t instanceof xn){let r=t.new_destination;return lf(r,e)}else if(t instanceof $n){let r=t.new_source;return of(r,e)}else if(t instanceof Er){let r=t.ship_id;return zp(r,e)}else if(t instanceof gn){let r=t[0],n=t.location,i=t.page;return af(e,r,n,i)}else if(t instanceof wn){let r=t[0],n=t.location,i=t.page;return uf(e,r,n,i)}else if(t instanceof Or){let r=t.destination;return pf(e,r)}else if(t instanceof Sr){let r=t.source;return cf(e,r)}else if(t instanceof vn){let r=t.multibuy;return mp(e,r)}else{if(t instanceof yn)return hp(e);if(t instanceof bn){let r=t[0];return $p(e,r)}else{if(t instanceof jn)return Wp(e);if(t instanceof kn)return Rp(e);if(t instanceof Lr){let r=t.value;return Hp(e,r)}else if(t instanceof Sn){let r=t.level;return Gp(e,r)}else{if(t instanceof On)return Tp(e);if(t instanceof Ln){let r=t.deleted_ship;return Cp(e,r)}else if(t instanceof En){let r=t.id;return Dp(e,r)}else if(t instanceof An){let r=t.hold_id,n=t.ship_id;return Up(e,r,n)}else if(t instanceof zn){let r=t.hold_id,n=t.ship_id;return Fp(e,r,n)}else if(t instanceof Tn){let r=t.kind,n=t.hold_id,i=t.ship_id;return Mp(e,r,n,i)}else if(t instanceof Cn){let r=t.ship_id;return Bp(e,r)}else if(t instanceof Mn){let r=t.hold_id,n=t.ship_id;return qp(e,r,n)}else if(t instanceof Bn){let r=t.ship_id;return Np(e,r)}else if(t instanceof qn){let r=t.ship_id;return Ip(e,r)}else if(t instanceof Pn){let r=t.storage_key,n=t.value;return Kp(e,r,n)}else if(t instanceof Dn){let r=t.storage_key;return Yp(e,r)}else if(t instanceof Un){let r=t.name,n=t.id;return Xp(e,r,n)}else if(t instanceof Gn){let r=t.accounting_level;return Qp(e,r)}else if(t instanceof Hn){let r=t.collateral;return Zp(e,r)}else if(t instanceof Wn){let r=t.capacity,n=t.ship_id,i=t.hold_id;return ef(e,r,n,i)}else if(t instanceof Vn){let r=t.hold_indices;return tf(e,r)}else if(t instanceof Rn){let r=t.kind,n=t.ship_id,i=t.hold_id;return rf(e,r,n,i)}else if(t instanceof Fn){let r=t.name,n=t.ship_id,i=t.hold_id;return nf(e,r,n,i)}else if(t instanceof Nn){let r=t.storage;return Vp(e,r)}else{if(t instanceof In)return Jp(e);{let r=t.selected_ship;return sf(e,r)}}}}}}var df="http://www.w3.org/2000/svg";function he(e,t){return Zr(df,"svg",e,t)}function $e(e){return Zr(df,"path",e,U)}function Dm(e){return e==="input"||e==="change"||e==="focus"||e==="focusin"||e==="focusout"||e==="blur"?!0:e==="select"}function yu(e,t){return ja(e,t,U,!1,!1,Dm(e),new Xr(0))}function xe(e){return yu("click",Ft(e))}function zr(e){return yu("input",Mo(l(["target","value"]),jt,t=>Ft(e(t))))}function Xs(e){return yu("blur",Ft(e))}function Um(){return T(l([b("flex justify-center my-8")]),l([De(l([b("bg-selected hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg shadow-md flex items-center transition-colors duration-200"),xe(new yn)]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 mr-2"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))])),q(`Compute Multibuys
                    `)]))]))}function Fm(){return T(l([b("flex justify-center my-8")]),l([De(l([b("bg-gray-400 text-gray-200 font-bold py-3 px-8 rounded-lg shadow-md flex items-center cursor-not-allowed"),La(!0)]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 mr-2"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))])),q(`Compute Multibuys
                    `)]))]))}function Wm(e,t,r,n){return e instanceof j&&t instanceof j&&r instanceof j&&n instanceof j?Um():Fm()}function Rm(e){return T(l([b("mb-6")]),l([T(l([b("relative bg-white rounded-t-lg shadow-md")]),l([T(l([b("absolute top-3 right-3")]),l([De(l([g("title","Copy to clipboard"),b("p-1 hover:bg-gray-100 rounded"),xe(new vn(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 text-gray-500"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))])),T(l([g("aria-readonly","true"),b("p-4 bg-gray-50 rounded-t-lg text-gray-700 font-mono text-sm h-24 overflow-y-auto")]),(()=>{let t=W(Dc(e),r=>l([q(Xl(r)),hc(l([]))]));return bt(t)})())])),T(l([b("bg-white rounded-b-lg shadow-md p-3 border-t border-gray-200")]),l([T(l([b("flex justify-between items-center")]),l([K(l([b("font-medium text-gray-700")]),l([q("Total Price:")])),K(l([b("font-bold text-gray-900")]),l([q(vr(Yl(e))+" ISK")]))]))]))]))}function Hm(e,t){return T(l([b("mb-6 bg-white rounded-lg shadow-md p-4 border-l-4 border-green-500")]),l([T(l([b("flex justify-between items-center")]),l([T(l([]),l([wr(l([b("text-lg font-semibold text-gray-800")]),l([q("Total Projected Profits")])),Nl(l([b("text-sm text-gray-500")]),l([q("Based on current market data")]))])),T(l([b("text-right")]),l([K(l([b("text-2xl font-bold text-green-600")]),l([q(vr(e)+" ISK")])),Nl(l([b("text-sm text-green-500")]),l([q(vr(qr(t,2))+"% ROI")]))]))]))]))}function _f(e){let t,r=W(e.trades,_=>{if(_ instanceof hn){let h=_.multibuy;return new k(h)}else return new O(void 0)}),n=si(r);t=Qt(n,l([]));let i=t,s=W(i,Rm),o=Z(i,[0,0],(_,h)=>{let y=_[0],$=_[1];return[y+Uc(h),$+Yl(h)]}),a=o[0],u=o[1],c=et(a,u)*100,f=Dr(i),p;f?p=T(l([Sa(!0)]),l([])):p=Hm(a,c);let d=p;return bs(l([]),(()=>{let _=l([Wm(e.current_ship,e.collateral,e.source,e.destination),d]);return pe(_,s)})())}function mf(e){let t;t=B(e);let n=t,i,s=sn(e),o=qr(s,3);i=Je(o);let a=i;return T(l([b("p-4 border-b border-gray-200")]),l([T(l([b("flex justify-between items-center mb-2")]),l([ys(l([b("block text-sm font-medium text-gray-700"),is("accounting-level")]),l([q("Accounting Level")])),K(l([b("text-sm font-medium text-selected")]),l([q(n)]))])),T(l([b("relative mb-6")]),l([Gt(l([b("w-full h-1 bg-gray-200 rounded-md appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-selected focus:ring-opacity-50"),_t("accounting-level"),ss("1"),Ot(n),Ea("5"),Aa("0"),Wt("range"),zr(u=>{let c=Ee(u);if(!c.isOk())throw z("let_assert","mvu/view/sidebar/accounting",44,"","Pattern match failed, no pattern matched the value.",{value:c});let f=c[0];return new Sn(f)})]))])),T(l([b("flex justify-between text-xs text-gray-500 px-1")]),l([K(l([]),l([q("0")])),K(l([]),l([q("1")])),K(l([]),l([q("2")])),K(l([]),l([q("3")])),K(l([]),l([q("4")])),K(l([]),l([q("5")]))])),T(l([b("mt-2 text-xs text-gray-500")]),l([K(l([]),l([q("Effective tax rate: ")])),K(l([b("font-medium text-gray-700")]),l([q(a+"%")]))]))]))}function Jm(){return Gt(l([Yo("0"),ss("1"),b("focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-12 pr-12 sm:text-sm border-gray-300 rounded-md p-2 border"),_t("max-collateral"),Ko("max-collateral"),Wt("number"),zr(e=>cp(e,t=>new Lr(t)))]))}function Km(e){return Gt(l([Yo("0"),b("focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-12 pr-12 sm:text-sm border-gray-300 rounded-md p-2 border"),_t("max-collateral"),Ko("max-collateral"),Wt("number"),Ot(B(e)),zr(t=>{let r,n=Ee(t);r=qt(n);let i=r;return new Lr(i)})]))}function hf(e){let t;if(e instanceof C)t=Jm();else{let n=e[0];t=Km(n)}let r=t;return T(l([b("p-4 border-b border-gray-200")]),l([ys(l([b("block text-sm font-medium text-gray-700 mb-1"),is("max-collateral")]),l([q("Max Collateral")])),T(l([b("relative rounded-md shadow-sm")]),l([T(l([b("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none")]),l([K(l([b("text-gray-500 sm:text-sm")]),l([q("ISK")]))])),r,T(l([b("absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none")]),l([K(l([b("text-gray-500 sm:text-sm")]),l([q("million")]))]))]))]))}var Qs=class extends m{constructor(t,r,n,i,s){super(),this.container=t,this.header=r,this.name_input=n,this.capacity_text=i,this.arrow_icon=s}};function Xm(e,t,r){let n=(()=>{let i=Z((()=>{let s=t.holds;return Ne(s)})(),0,(s,o)=>s+o.capacity);return vr(i)})()+" m\xB3";return T(l([b(r.container)]),l([T(l([b(r.header)]),l([T(l([b("pl-3 pt-3 pb-3 flex-grow flex items-center text-right"),xe(new Er(e))]),l([K(l([b(r.name_input+" text-left")]),l([q(t.name)])),K(l([b(r.capacity_text)]),l([q(n)]))])),T(l([b("flex-shrink-0 pt-3 pb-3 pr-3"),xe(new qn(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 ml-2"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M19 9l-7 7-7-7"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))]))]))}function Qm(e,t,r){let n="hold-name-"+B(e),i="hold-capacity-"+B(e),s,o=vc();s=W(o,u=>{let c=Ss(u),f=Ae(c),p=t.kind;if(J(p,u)){let d=p;return Pl(l([Ot(f),za(!0)]),c)}else return Pl(l([Ot(f)]),c)});let a=s;return T(l([b("mb-3 p-3 bg-white rounded-md shadow-sm")]),l([T(l([b("flex justify-between items-center mb-2")]),l([Gt(l([b("border border-gray-300 rounded-md px-2 py-1 text-sm w-1/2"),_t(n),Ot(t.name),Wt("text"),Xs(new An(e,r))])),T(l([b("flex items-center")]),l([Gt(l([b("border border-gray-300 rounded-md px-2 py-1 text-sm w-20 mr-2"),Ot((()=>{let u=t.capacity;return Je(u)})()),_t(i),Wt("number"),Xs(new zn(e,r))])),K(l([b("text-xs text-gray-500")]),l([q("m\xB3")]))]))])),T(l([b("flex items-center mt-2")]),l([$c(l([b("border border-gray-300 rounded-md px-2 py-1 text-sm flex-grow"),zr(u=>new Tn(u,e,r))]),a),De(l([g("title","Delete Hold"),b("ml-2 p-1 text-red-500 hover:bg-red-50 rounded-md"),xe(new Mn(e,r))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-4 w-4"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))]))]))}function Zm(e){return De(l([b("flex items-center justify-center w-full py-2 border border-dashed border-gray-300 rounded-md text-sm text-gray-500 hover:bg-gray-50 mb-3"),xe(new Cn(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-4 w-4 mr-1"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M12 4v16m8-8H4"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))])),q(`Add Hold
                            `)]))}function eh(e){return De(l([b("flex items-center justify-center w-full py-2 border border-red-200 text-red-600 rounded-md text-sm hover:bg-red-50 hover:border-red-300 transition-colors"),xe(new Ln(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-4 w-4 mr-1"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))])),q(`Delete Ship
                            `)]))}function th(e,t,r){let n=l([Zm(e),eh(e)]),i,s=Te(t.holds,(f,p)=>Qm(f,p,e));i=Ne(s);let o=i,a=(()=>{let f=Z((()=>{let p=t.holds;return Ne(p)})(),0,(p,d)=>p+d.capacity);return vr(f)})()+" m\xB3",u=pe(o,n),c="ship-name-"+B(e);return T(l([b(r.container)]),l([T(l([b(r.header)]),l([T(l([b("pl-3 pt-3 pb-3 flex-grow flex items-center text-right"),xe(new Er(e))]),l([Gt(l([b(r.name_input+" border-b"),_t(c),Ot(t.name),Wt("text"),Xs(new En(e))])),K(l([b(r.capacity_text)]),l([q(a)]))])),T(l([b("pt-3 pb-3 pr-3 flex-shrink-0"),xe(new Bn(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b(r.arrow_icon+" rotate-180"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M19 9l-7 7-7-7"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))])),T(l([b("border-t border-gray-200")]),l([T(l([b("p-3")]),u)]))]))}function rh(){return De(l([b("flex items-center justify-center w-full py-3 border border-dashed border-gray-300 rounded-md text-sm text-gray-500 hover:bg-gray-50"),xe(new On)]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 mr-1"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M12 4v16m8-8H4"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))])),q(`Add Ship
                `)]))}var nh=new Qs("mb-3 border border-gray-200 rounded-md hover:border-gray-300","bg-gray-50 rounded-t-md flex justify-between items-center cursor-pointer hover:bg-gray-100","font-medium bg-transparent border-0 border-gray-300 focus:ring-0 focus:border-gray-500 px-0 py-0 w-24","text-sm text-gray-600 mr-2 flex-grow","h-5 w-5 ml-2"),ih=new Qs("mb-3 border-2 border-selected rounded-md bg-indigo-50","bg-indigo-100 rounded-t-md flex justify-between items-center cursor-pointer hover:bg-indigo-200","font-medium text-selected bg-transparent border-0 border-indigo-300 focus:ring-0 focus:border-selected px-0 py-0 w-24","text-sm text-selected mr-2 flex-grow","h-5 w-5 ml-2 text-selected");function sh(e,t,r){let n;r?n=ih:n=nh;let i=n;return t.is_expanded?th(e,t.ship,i):Xm(e,t.ship,i)}function $f(e){let t=(o,a)=>{let u,c=e.current_ship;if(c instanceof j&&c[0]===o){let p=c[0];u=!0}else u=!1;return sh(o,a,u)},r,n=Te(e.ships,t);r=Ne(n);let i=r,s=w(wr(l([b("text-sm font-medium text-gray-700 mb-3")]),l([q("Ships")])),pe(i,l([rh()])));return T(l([b("p-4")]),s)}function lh(e){return ql(l([b("fixed z-10 top-0 left-0 w-80 bg-white shadow-lg h-screen overflow-y-auto flex-shrink-0 border-r border-gray-200")]),l([T(l([b("p-4 border-b border-gray-200 flex justify-between items-center")]),l([ws(l([b("text-lg font-bold")]),l([q("Configuration")])),De(l([g("title","Toggle Sidebar"),b("p-1 rounded-md hover:bg-gray-100"),xe(new jn)]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-6 w-6"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M11 19l-7-7 7-7m8 14l-7-7 7-7"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))])),hf(e.collateral),mf(e.accounting_level),$f(e)]))}function uh(){return T(l([b("flex flex-col items-center")]),l([T(l([b("w-8 h-8 flex items-center justify-center bg-gray-300 rounded-md mb-1 text-gray-600 font-bold text-lg")]),l([q(`\xD8
                `)])),K(l([b("text-xs font-medium text-gray-500 text-center")]),l([q("No Ship Selected")]))]))}function ah(e){let t=rr(e.ship.holds,0,(a,u,c)=>a+c.capacity),r=Oi(Qn(t))+" m\xB3",n,i=e.ship.name;n=ni(i);let s=n;if(!s.isOk())throw z("let_assert","mvu/view/sidebar",246,"get_ship_selected_icon","Pattern match failed, no pattern matched the value.",{value:s});let o=s[0][0];return T(l([b("flex flex-col items-center")]),l([T(l([b("w-8 h-8 flex items-center justify-center bg-blue-600 rounded-md mb-1 text-white font-bold")]),l([q(o)])),K(l([b("text-xs font-medium")]),l([q(r)]))]))}function ch(e){let t,r=e.collateral;t=Nt(r,0);let i=Cc(t),s="LvL "+(()=>{let f=e.accounting_level;return B(f)})(),o=(()=>{let f=sn(e.accounting_level),p=qr(f,3);return Je(p)})()+"%",a,u=e.current_ship;if(u instanceof C)a=uh();else{let f=u[0],p=N(e.ships,f);if(!p.isOk())throw z("let_assert","mvu/view/sidebar",92,"get_collapsed_sidebar","Pattern match failed, no pattern matched the value.",{value:p});let d=p[0];a=ah(d)}let c=a;return ql(l([b("fixed top-0 left-0 w-16 bg-white shadow-lg h-screen overflow-y-auto flex-shrink-0 border-r border-gray-200")]),l([T(l([b("p-4 border-b border-gray-200 flex justify-center items-center")]),l([De(l([g("title","Toggle Sidebar"),b("p-1 rounded-md hover:bg-gray-100"),_t("toggle-sidebar"),xe(new kn)]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-6 w-6"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M13 5l7 7-7 7M5 5l7 7-7 7"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))])),T(l([b("flex flex-col items-center pt-4 space-y-6")]),l([T(l([b("flex flex-col items-center")]),l([T(l([b("w-8 h-8 flex items-center justify-center bg-gray-100 rounded-md mb-1")]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-6 w-6 text-gray-600"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))])),K(l([b("text-xs font-medium")]),l([q(i)]))])),T(l([b("flex flex-col items-center")]),l([T(l([b("w-8 h-8 flex items-center justify-center bg-gray-100 rounded-md mb-1")]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-6 w-6 text-gray-600"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))])),K(l([b("text-xs font-medium text-selected")]),l([q(s)])),K(l([b("text-[10px] text-gray-500")]),l([q(o)]))])),c]))]))}function xf(e){let t;return e.sidebar_expanded?t=lh:t=ch,t(e)}function vu(e,t){let r;t?r=i=>new Sr(i):r=i=>new Or(i);let n=r;return De(l([g("title","Reload item"),b("p-1 hover:bg-gray-200 rounded"),xe(n(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 text-gray-500"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))}function fh(e,t){let r;t?r=i=>new Sr(i):r=i=>new Or(i);let n=r;return De(l([g("title","Download data"),b("p-1 hover:bg-gray-200 rounded"),xe(n(e))]),l([he(l([g("stroke","currentColor"),g("viewBox","0 0 24 24"),g("fill","none"),b("h-5 w-5 text-gray-500"),g("xmlns","http://www.w3.org/2000/svg")]),l([$e(l([g("d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),g("stroke-width","2"),g("stroke-linejoin","round"),g("stroke-linecap","round")]))]))]))}function gf(e,t,r){return ji(l([b("p-4 border-b hover:bg-gray-50")]),l([T(l([b("flex justify-between items-center")]),l([K(l([b("text-gray-400")]),l([q(t.location.name)])),fh(e,r)]))]))}function ku(){return T(l([b("animate-spin h-5 w-5 border-2 border-gray-500 border-t-transparent rounded-full")]),l([]))}function wf(e,t,r){return ji(l([b("p-4 border-b hover:bg-gray-50")]),l([T(l([b("flex justify-between items-center")]),l([K(l([b("text-gray-600")]),l([q(t.location.name)])),ku()]))]))}function Zs(e,t,r){let n;t?n=Oi(e)+" sell orders":n=Oi(e)+" buy orders";let i=n,s;return r?s="bg-selected text-white ":s="bg-gray-200 text-gray-700 ",K(l([b(s+"ml-2 text-xs px-2 py-0.5 rounded-full")]),l([q(i)]))}function bf(e,t,r){let n,i=t.buy_orders_status,s=t.sell_orders_status;if(r&&s instanceof Ct)n=ku();else if(r&&s instanceof cr)n=vu(e,r);else{if(r&&s instanceof Vt)throw z("panic","mvu/view/systems_lists",97,"get_selected_system","should not be able to select an empty system",{});if(!r&&i instanceof Ct)n=ku();else if(!r&&i instanceof cr)n=vu(e,r);else throw z("panic","mvu/view/systems_lists",101,"get_selected_system","should not be able to select an empty system",{})}let o=n,a;if(r){let c=t.sell_orders,f=rt(c);a=Zs(f,r,!0)}else{let c=t.buy_orders,f=rt(c);a=Zs(f,r,!0)}let u=a;return ji(l([b("p-4 border-b hover:bg-gray-50 bg-indigo-50 border-l-4 border-l-selected")]),l([T(l([b("flex justify-between items-center")]),l([T(l([b("flex items-center")]),l([K(l([b("text-selected font-medium")]),l([q(t.location.name)])),u])),o]))]))}function yf(e,t,r){let n;r?n=a=>new $n(a):n=a=>new xn(a);let i=n,s;if(r){let a=t.sell_orders,u=rt(a);s=Zs(u,r,!1)}else{let a=t.buy_orders,u=rt(a);s=Zs(u,r,!1)}let o=s;return ji(l([b("p-4 border-b hover:bg-gray-50 cursor-pointer"),xe(i(e))]),l([T(l([b("flex justify-between items-center")]),l([T(l([b("flex items-center")]),l([mc(l([b("block text-gray-800"),Oa("#")]),l([q(t.location.name),o]))])),vu(e,r)]))]))}function dh(e,t){let r=Te(e,(n,i)=>{let s,o=i.sell_orders_status;if(t instanceof j&&t[0]===n){let a=t[0];s=bf}else o instanceof Vt?s=gf:o instanceof Ct?s=wf:s=yf;return s(n,i,!0)});return Ne(r)}function _h(e,t){let r=dh(e,t);return T(l([b("w-full md:w-1/2 bg-white rounded-lg shadow-md")]),l([wr(l([b("p-4 font-semibold border-b")]),l([q("From")])),Il(l([b("h-64 overflow-y-auto")]),r)]))}function mh(e,t){let r=Te(e,(n,i)=>{let s,o=i.buy_orders_status;if(t instanceof j&&t[0]===n){let a=t[0];s=bf}else o instanceof Vt?s=gf:o instanceof Ct?s=wf:s=yf;return s(n,i,!1)});return Ne(r)}function hh(e,t){let r=mh(e,t);return T(l([b("w-full md:w-1/2 bg-white rounded-lg shadow-md")]),l([wr(l([b("p-4 font-semibold border-b")]),l([q("To")])),Il(l([b("h-64 overflow-y-auto")]),r)]))}function vf(e){let t=_h(e.systems,e.source),r=hh(e.systems,e.destination);return bs(l([b("mb-10")]),l([ws(l([b("text-2xl font-bold mb-4")]),l([q("Systems")])),T(l([b("flex flex-col md:flex-row gap-6")]),l([t,r]))]))}function kf(e){let t=xf(e),r=vf(e),n=_f(e),i=l([r,n]),s=T(l([b("flex-1 overflow-auto pl-14")]),l([T(l([b("max-w-6xl mx-auto p-8")]),i)]));return T(l([b("min-h-screen flex")]),l([t,s]))}var gh="en",wh=0;function bh(e){let t=Z(kc,We(),(n,i)=>{let s=i[0],o=i[1],a=new xt(o,l([]),new Vt,l([]),new Vt);return H(n,s,a)}),r=xp();return[new I((()=>{let n=Ci();return qt(n)})(),We(),new C,0,0,t,new C,new C,wh,gh,!1,new C,l([])),r]}function jf(){let e=bc(bh,ff,kf),t=yc(e,"#app",void 0);if(!t.isOk())throw z("let_assert","eve_arbitrage",20,"main","Pattern match failed, no pattern matched the value.",{value:t})}jf();
